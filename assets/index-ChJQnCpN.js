var In=Object.defineProperty;var Dn=(e,t,n)=>t in e?In(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var x=(e,t,n)=>Dn(e,typeof t!="symbol"?t+"":t,n);import*as P from"cesium";import{Entity as ve,NearFarScalar as Sn,DistanceDisplayCondition as Tn,Color as ie,Resource as ae,Property as et,ConstantProperty as pe,InfoBox as Mn,HeightReference as z,ClassificationType as Ce,HorizontalOrigin as He,VerticalOrigin as he,ScreenSpaceEventHandler as Wt,ScreenSpaceEventType as we,Cartographic as Y,PolygonHierarchy as On,Cartesian3 as Zt,Cartesian2 as Xt,LabelStyle as Qt,ConstantPositionProperty as ut,LabelGraphics as Rn,ColorBlendMode as Yt,ShadowMode as ke,HeadingPitchRoll as Ln,Matrix3 as Nn,Matrix4 as Hn,Transforms as Jt,KmlDataSource as Bn,CzmlDataSource as Fn,GeoJsonDataSource as zn,PinBuilder as Vn,Quaternion as pt,ReferenceProperty as tt,Ellipsoid as $n,Math as ht,ColorMaterialProperty as Un,ImageMaterialProperty as Gn,ArcType as Kt,CustomDataSource as jn,exportKml as Wn,Event as Zn,Viewer as Xn}from"cesium";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Be,C,qt,re,ft,en,tn,nn,nt,We,Ze,on,ye={},sn=[],Qn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Fe=Array.isArray;function oe(e,t){for(var n in t)e[n]=t[n];return e}function it(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Xe(e,t,n){var i,o,s,r={};for(s in t)s=="key"?i=t[s]:s=="ref"?o=t[s]:r[s]=t[s];if(arguments.length>2&&(r.children=arguments.length>3?Be.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)r[s]===void 0&&(r[s]=e.defaultProps[s]);return Se(e,r,i,o,null)}function Se(e,t,n,i,o){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++qt,__i:-1,__u:0};return o==null&&C.vnode!=null&&C.vnode(s),s}function Q(e){return e.children}function J(e,t){this.props=e,this.context=t}function fe(e,t){if(t==null)return e.__?fe(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?fe(e):null}function rn(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return rn(e)}}function Qe(e){(!e.__d&&(e.__d=!0)&&re.push(e)&&!Oe.__r++||ft!==C.debounceRendering)&&((ft=C.debounceRendering)||en)(Oe)}function Oe(){for(var e,t,n,i,o,s,r,l=1;re.length;)re.length>l&&re.sort(tn),e=re.shift(),l=re.length,e.__d&&(n=void 0,o=(i=(t=e).__v).__e,s=[],r=[],t.__P&&((n=oe({},i)).__v=i.__v+1,C.vnode&&C.vnode(n),ot(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[o]:null,s,o??fe(i),!!(32&i.__u),r),n.__v=i.__v,n.__.__k[n.__i]=n,cn(s,n,r),n.__e!=o&&rn(n)));Oe.__r=0}function an(e,t,n,i,o,s,r,l,u,c,p){var d,f,_,m,y,b,v=i&&i.__k||sn,g=t.length;for(u=Yn(n,t,v,u,g),d=0;d<g;d++)(_=n.__k[d])!=null&&(f=_.__i===-1?ye:v[_.__i]||ye,_.__i=d,b=ot(e,_,f,o,s,r,l,u,c,p),m=_.__e,_.ref&&f.ref!=_.ref&&(f.ref&&st(f.ref,null,_),p.push(_.ref,_.__c||m,_)),y==null&&m!=null&&(y=m),4&_.__u||f.__k===_.__k?u=ln(_,u,e):typeof _.type=="function"&&b!==void 0?u=b:m&&(u=m.nextSibling),_.__u&=-7);return n.__e=y,u}function Yn(e,t,n,i,o){var s,r,l,u,c,p=n.length,d=p,f=0;for(e.__k=new Array(o),s=0;s<o;s++)(r=t[s])!=null&&typeof r!="boolean"&&typeof r!="function"?(u=s+f,(r=e.__k[s]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Se(null,r,null,null,null):Fe(r)?Se(Q,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?Se(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,l=null,(c=r.__i=Jn(r,n,u,d))!==-1&&(d--,(l=n[c])&&(l.__u|=2)),l==null||l.__v===null?(c==-1&&f--,typeof r.type!="function"&&(r.__u|=4)):c!=u&&(c==u-1?f--:c==u+1?f++:(c>u?f--:f++,r.__u|=4))):e.__k[s]=null;if(d)for(s=0;s<p;s++)(l=n[s])!=null&&!(2&l.__u)&&(l.__e==i&&(i=fe(l)),dn(l,l));return i}function ln(e,t,n){var i,o;if(typeof e.type=="function"){for(i=e.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=e,t=ln(i[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=fe(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Re(e,t){return t=t||[],e==null||typeof e=="boolean"||(Fe(e)?e.some(function(n){Re(n,t)}):t.push(e)),t}function Jn(e,t,n,i){var o,s,r=e.key,l=e.type,u=t[n];if(u===null||u&&r==u.key&&l===u.type&&!(2&u.__u))return n;if(i>(u!=null&&!(2&u.__u)?1:0))for(o=n-1,s=n+1;o>=0||s<t.length;){if(o>=0){if((u=t[o])&&!(2&u.__u)&&r==u.key&&l===u.type)return o;o--}if(s<t.length){if((u=t[s])&&!(2&u.__u)&&r==u.key&&l===u.type)return s;s++}}return-1}function _t(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Qn.test(t)?n:n+"px"}function Ee(e,t,n,i,o){var s;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||_t(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||_t(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(nn,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i?n.u=i.u:(n.u=nt,e.addEventListener(t,s?Ze:We,s)):e.removeEventListener(t,s?Ze:We,s);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function mt(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=nt++;else if(t.t<n.u)return;return n(C.event?C.event(t):t)}}}function ot(e,t,n,i,o,s,r,l,u,c){var p,d,f,_,m,y,b,v,g,I,O,Z,H,G,j,B,F,te,T=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),s=[l=t.__e=n.__e]),(p=C.__b)&&p(t);e:if(typeof T=="function")try{if(v=t.props,g="prototype"in T&&T.prototype.render,I=(p=T.contextType)&&i[p.__c],O=p?I?I.props.value:p.__:i,n.__c?b=(d=t.__c=n.__c).__=d.__E:(g?t.__c=d=new T(v,O):(t.__c=d=new J(v,O),d.constructor=T,d.render=qn),I&&I.sub(d),d.props=v,d.state||(d.state={}),d.context=O,d.__n=i,f=d.__d=!0,d.__h=[],d._sb=[]),g&&d.__s==null&&(d.__s=d.state),g&&T.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=oe({},d.__s)),oe(d.__s,T.getDerivedStateFromProps(v,d.__s))),_=d.props,m=d.state,d.__v=t,f)g&&T.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),g&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(g&&T.getDerivedStateFromProps==null&&v!==_&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,O),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,O)===!1||t.__v==n.__v)){for(t.__v!=n.__v&&(d.props=v,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function($){$&&($.__=t)}),Z=0;Z<d._sb.length;Z++)d.__h.push(d._sb[Z]);d._sb=[],d.__h.length&&r.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,O),g&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(_,m,y)})}if(d.context=O,d.props=v,d.__P=e,d.__e=!1,H=C.__r,G=0,g){for(d.state=d.__s,d.__d=!1,H&&H(t),p=d.render(d.props,d.state,d.context),j=0;j<d._sb.length;j++)d.__h.push(d._sb[j]);d._sb=[]}else do d.__d=!1,H&&H(t),p=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++G<25);d.state=d.__s,d.getChildContext!=null&&(i=oe(oe({},i),d.getChildContext())),g&&!f&&d.getSnapshotBeforeUpdate!=null&&(y=d.getSnapshotBeforeUpdate(_,m)),F=(B=p!=null&&p.type===Q&&p.key==null)?p.props.children:p,B&&(p.props.children=null),l=an(e,Fe(F)?F:[F],t,n,i,o,s,r,l,u,c),d.base=t.__e,t.__u&=-161,d.__h.length&&r.push(d),b&&(d.__E=d.__=null)}catch($){if(t.__v=null,u||s!=null)if($.then){for(t.__u|=u?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,t.__e=l}else for(te=s.length;te--;)it(s[te]);else t.__e=n.__e,t.__k=n.__k;C.__e($,t,n)}else s==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=Kn(n.__e,t,n,i,o,s,r,u,c);return(p=C.diffed)&&p(t),128&t.__u?void 0:l}function cn(e,t,n){for(var i=0;i<n.length;i++)st(n[i],n[++i],n[++i]);C.__c&&C.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(s){s.call(o)})}catch(s){C.__e(s,o.__v)}})}function Kn(e,t,n,i,o,s,r,l,u){var c,p,d,f,_,m,y,b=n.props,v=t.props,g=t.type;if(g=="svg"?o="http://www.w3.org/2000/svg":g=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((_=s[c])&&"setAttribute"in _==!!g&&(g?_.localName==g:_.nodeType==3)){e=_,s[c]=null;break}}if(e==null){if(g==null)return document.createTextNode(v);e=document.createElementNS(o,g,v.is&&v),l&&(C.__m&&C.__m(t,s),l=!1),s=null}if(g===null)b===v||l&&e.data===v||(e.data=v);else{if(s=s&&Be.call(e.childNodes),b=n.props||ye,!l&&s!=null)for(b={},c=0;c<e.attributes.length;c++)b[(_=e.attributes[c]).name]=_.value;for(c in b)if(_=b[c],c!="children"){if(c=="dangerouslySetInnerHTML")d=_;else if(!(c in v)){if(c=="value"&&"defaultValue"in v||c=="checked"&&"defaultChecked"in v)continue;Ee(e,c,null,_,o)}}for(c in v)_=v[c],c=="children"?f=_:c=="dangerouslySetInnerHTML"?p=_:c=="value"?m=_:c=="checked"?y=_:l&&typeof _!="function"||b[c]===_||Ee(e,c,_,b[c],o);if(p)l||d&&(p.__html===d.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(d&&(e.innerHTML=""),an(t.type==="template"?e.content:e,Fe(f)?f:[f],t,n,i,g=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,r,s?s[0]:n.__k&&fe(n,0),l,u),s!=null)for(c=s.length;c--;)it(s[c]);l||(c="value",g=="progress"&&m==null?e.removeAttribute("value"):m!==void 0&&(m!==e[c]||g=="progress"&&!m||g=="option"&&m!==b[c])&&Ee(e,c,m,b[c],o),c="checked",y!==void 0&&y!==e[c]&&Ee(e,c,y,b[c],o))}return e}function st(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(o){C.__e(o,n)}}function dn(e,t,n){var i,o;if(C.unmount&&C.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||st(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){C.__e(s,t)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&dn(i[o],t,n||typeof e.type!="function");n||it(e.__e),e.__c=e.__=e.__e=void 0}function qn(e,t,n){return this.constructor(e,n)}function ei(e,t,n){var i,o,s,r;t==document&&(t=document.documentElement),C.__&&C.__(e,t),o=(i=!1)?null:t.__k,s=[],r=[],ot(t,e=t.__k=Xe(Q,null,[e]),o||ye,ye,t.namespaceURI,o?null:t.firstChild?Be.call(t.childNodes):null,s,o?o.__e:t.firstChild,i,r),cn(s,e,r)}function rt(e){function t(n){var i,o;return this.getChildContext||(i=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.forEach(function(r){r.__e=!0,Qe(r)})},this.sub=function(s){i.add(s);var r=s.componentWillUnmount;s.componentWillUnmount=function(){i&&i.delete(s),r&&r.call(s)}}),n.children}return t.__c="__cC"+on++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,i){return n.children(i)}).contextType=t,t}Be=sn.slice,C={__e:function(e,t,n,i){for(var o,s,r;t=t.__;)if((o=t.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(e)),r=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,i||{}),r=o.__d),r)return o.__E=o}catch(l){e=l}throw e}},qt=0,J.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=oe({},this.state),typeof e=="function"&&(e=e(oe({},n),this.props)),e&&oe(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Qe(this))},J.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Qe(this))},J.prototype.render=Q,re=[],en=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tn=function(e,t){return e.__v.__b-t.__v.__b},Oe.__r=0,nn=/(PointerCapture)$|Capture$/i,nt=0,We=mt(!1),Ze=mt(!0),on=0;var ti=0;function a(e,t,n,i,o,s){t||(t={});var r,l,u=t;if("ref"in u)for(l in u={},t)l=="ref"?r=t[l]:u[l]=t[l];var c={type:e,props:u,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ti,__i:-1,__u:0,__source:o,__self:s};if(typeof e=="function"&&(r=e.defaultProps))for(l in r)u[l]===void 0&&(u[l]=r[l]);return C.vnode&&C.vnode(c),c}var _e,D,Ue,gt,be=0,un=[],R=C,vt=R.__b,wt=R.__r,yt=R.diffed,bt=R.__c,Ct=R.unmount,kt=R.__;function ze(e,t){R.__h&&R.__h(D,e,be||t),be=0;var n=D.__H||(D.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function E(e){return be=1,ni(hn,e)}function ni(e,t,n){var i=ze(_e++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):hn(void 0,t),function(l){var u=i.__N?i.__N[0]:i.__[0],c=i.t(u,l);u!==c&&(i.__N=[c,i.__[1]],i.__c.setState({}))}],i.__c=D,!D.__f)){var o=function(l,u,c){if(!i.__c.__H)return!0;var p=i.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!s||s.call(this,l,u,c);var d=i.__c.props!==l;return p.forEach(function(f){if(f.__N){var _=f.__[0];f.__=f.__N,f.__N=void 0,_!==f.__[0]&&(d=!0)}}),s&&s.call(this,l,u,c)||d};D.__f=!0;var s=D.shouldComponentUpdate,r=D.componentWillUpdate;D.componentWillUpdate=function(l,u,c){if(this.__e){var p=s;s=void 0,o(l,u,c),s=p}r&&r.call(this,l,u,c)},D.shouldComponentUpdate=o}return i.__N||i.__}function K(e,t){var n=ze(_e++,3);!R.__s&&pn(n.__H,t)&&(n.__=e,n.u=t,D.__H.__h.push(n))}function q(e){return be=5,at(function(){return{current:e}},[])}function at(e,t){var n=ze(_e++,7);return pn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function w(e,t){return be=8,at(function(){return e},t)}function V(e){var t=D.context[e.__c],n=ze(_e++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(D)),t.props.value):e.__}function ii(){for(var e;e=un.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Te),e.__H.__h.forEach(Ye),e.__H.__h=[]}catch(t){e.__H.__h=[],R.__e(t,e.__v)}}R.__b=function(e){D=null,vt&&vt(e)},R.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),kt&&kt(e,t)},R.__r=function(e){wt&&wt(e),_e=0;var t=(D=e.__c).__H;t&&(Ue===D?(t.__h=[],D.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Te),t.__h.forEach(Ye),t.__h=[],_e=0)),Ue=D},R.diffed=function(e){yt&&yt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(un.push(t)!==1&&gt===R.requestAnimationFrame||((gt=R.requestAnimationFrame)||oi)(ii)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Ue=D=null},R.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Te),n.__h=n.__h.filter(function(i){return!i.__||Ye(i)})}catch(i){t.some(function(o){o.__h&&(o.__h=[])}),t=[],R.__e(i,n.__v)}}),bt&&bt(e,t)},R.unmount=function(e){Ct&&Ct(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Te(i)}catch(o){t=o}}),n.__H=void 0,t&&R.__e(t,n.__v))};var At=typeof requestAnimationFrame=="function";function oi(e){var t,n=function(){clearTimeout(i),At&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);At&&(t=requestAnimationFrame(n))}function Te(e){var t=D,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),D=t}function Ye(e){var t=D;e.__c=e.__(),D=t}function pn(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function hn(e,t){return typeof t=="function"?t(e):t}function si({entity:e,selectEntity:t}){const n=V(ee),i=q(o=>{});return i.current=w(o=>{o&&o instanceof ve&&(!e&&o||(e==null?void 0:e.id)!==(o==null?void 0:o.id))&&t&&t(o)},[e,t]),K(()=>{const o=i.current;if(n&&o)return n.selectedEntityChanged.addEventListener(o),()=>{n.selectedEntityChanged.removeEventListener(o)}},[n,i]),K(()=>{n&&e instanceof ve&&(n.selectedEntity=e)},[n,e]),a(Q,{})}const Je=["billboard","label","polyline","polygon","model"],ri={size:2,targetClass:Tn,componentNames:["Near distance (m)","Far distance (m)"]},ai={size:4,targetClass:Sn,componentNames:["Near distance (m)","Near value","Far distance (m)","Far value"]},Pt=`
NONE - The position is absolute.
CLAMP_TO_GROUND - The position is clamped to the terrain and 3D Tiles.
RELATIVE_TO_GROUND - The position height is the height above the terrain and 3D Tiles.
CLAMP_TO_TERRAIN - The position is clamped to terain.
RELATIVE_TO_TERRAIN - The position height is the height above terrain.
CLAMP_TO_3D_TILE - The position is clamped to 3D Tiles.
RELATIVE_TO_3D_TILE - The position height is the height above 3D Tiles.
`,M=(...e)=>e.filter(t=>!!t).join(" "),li="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='16.0px'%20height='16.0px'%20viewBox='0%200%2016.0%2016.0'%20version='1.1'%20id='SVGRoot'%20sodipodi:docname='billboard.svg'%20inkscape:version='1.1.2%20(0a00cf5339,%202022-02-04)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview1483'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:document-units='px'%20showgrid='true'%20inkscape:zoom='49.659708'%20inkscape:cx='12.404423'%20inkscape:cy='8.7998906'%20inkscape:window-width='2560'%20inkscape:window-height='1384'%20inkscape:window-x='1440'%20inkscape:window-y='666'%20inkscape:window-maximized='1'%20inkscape:current-layer='layer1'%3e%3cinkscape:grid%20type='xygrid'%20id='grid1546'%20spacingx='0.1'%20spacingy='0.1'%20empspacing='5'%20/%3e%3c/sodipodi:namedview%3e%3cdefs%20id='defs1478'%20/%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%3e%3cellipse%20style='fill:%23333333;stroke:none;stroke-width:0.340157;stroke-linejoin:bevel'%20id='path9503'%20cx='7.9963527'%20cy='14.212624'%20rx='1.5'%20ry='1'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='M%208,12.5%20C%207,9.5%204.3178787,7.2805356%204.3178787,5.2805356%204.3178787,3.2805356%205.8474697,0.98415641%208,1%2010.127439,1.0156589%2011.5015,3.2738716%2011.5015,5.2738716%2011.5015,7.2738716%209,9.5%208,12.5%20Z'%20id='path1684'%20sodipodi:nodetypes='cscsc'%20/%3e%3c/g%3e%3c/svg%3e",ci="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMTYuMHB4IgogICBoZWlnaHQ9IjE2LjBweCIKICAgdmlld0JveD0iMCAwIDE2LjAgMTYuMCIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iU1ZHUm9vdCIKICAgc29kaXBvZGk6ZG9jbmFtZT0ibGFiZWwuc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjEuMiAoMGEwMGNmNTMzOSwgMjAyMi0wMi0wNCkiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJuYW1lZHZpZXcxMDYyIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOnpvb209IjQ5LjY1OTcwOCIKICAgICBpbmtzY2FwZTpjeD0iNy4wODgyNDE0IgogICAgIGlua3NjYXBlOmN5PSI3Ljk1NDEzNDYiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIyNTYwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEzODQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjE0NDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjY2NiIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQxMTI1IiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxkZWZzCiAgICAgaWQ9ImRlZnMxMDU3IiAvPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxlbGxpcHNlCiAgICAgICBzdHlsZT0iZmlsbDojMzMzMzMzO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjM0MDE1NztzdHJva2UtbGluZWpvaW46YmV2ZWwiCiAgICAgICBpZD0icGF0aDk1MDMiCiAgICAgICBjeD0iNy45NDE2ODM4IgogICAgICAgY3k9IjEzLjcxNDEzMSIKICAgICAgIHJ4PSIxLjUiCiAgICAgICByeT0iMSIgLz4KICAgIDx0ZXh0CiAgICAgICB4bWw6c3BhY2U9InByZXNlcnZlIgogICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTMuMzMzM3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDtmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiCiAgICAgICB4PSIzLjQ0NzUwMTIiCiAgICAgICB5PSIxMi4wMjkwMzgiCiAgICAgICBpZD0idGV4dDExNDA5Ij48dHNwYW4KICAgICAgICAgc29kaXBvZGk6cm9sZT0ibGluZSIKICAgICAgICAgaWQ9InRzcGFuMTE0MDciCiAgICAgICAgIHg9IjMuNDQ3NTAxMiIKICAgICAgICAgeT0iMTIuMDI5MDM4IgogICAgICAgICBzdHlsZT0iZm9udC1zaXplOjEzLjMzMzNweDtmaWxsOiMwMDAwMDA7c3Ryb2tlOm5vbmUiPkE8L3RzcGFuPjwvdGV4dD4KICA8L2c+Cjwvc3ZnPgo=",di="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20version='1.1'%20id='svg5'%20inkscape:version='1.1.2%20(0a00cf5339,%202022-02-04)'%20sodipodi:docname='polygon.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview7'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:document-units='px'%20showgrid='false'%20inkscape:zoom='54.4375'%20inkscape:cx='1.836969'%20inkscape:cy='7.9908152'%20inkscape:window-width='2560'%20inkscape:window-height='1384'%20inkscape:window-x='1440'%20inkscape:window-y='666'%20inkscape:window-maximized='1'%20inkscape:current-layer='layer1'%20/%3e%3cdefs%20id='defs2'%20/%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='M%209.4515687,13.081606%204.4926539,11.101318%202.2176916,8.0960731%206.5258189,2.8389826%2012.701928,4.6645827%209.2401425,7.8603527%2012.400258,9.8336122%20Z'%20id='path857'%20sodipodi:nodetypes='cccccccc'%20/%3e%3c/g%3e%3c/svg%3e",ui="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='16.0px'%20height='16.0px'%20viewBox='0%200%2016.0%2016.0'%20version='1.1'%20id='SVGRoot'%20sodipodi:docname='polyline.svg'%20inkscape:version='1.1.2%20(0a00cf5339,%202022-02-04)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview5909'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:document-units='px'%20showgrid='true'%20inkscape:zoom='49.659708'%20inkscape:cx='8.3166015'%20inkscape:cy='8.3971497'%20inkscape:window-width='2560'%20inkscape:window-height='1384'%20inkscape:window-x='1440'%20inkscape:window-y='666'%20inkscape:window-maximized='1'%20inkscape:current-layer='layer1'%3e%3cinkscape:grid%20type='xygrid'%20id='grid5972'%20/%3e%3c/sodipodi:namedview%3e%3cdefs%20id='defs5904'%20/%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:bevel;stroke-opacity:1'%20d='M%201,15%206,3%208,12%2013,1'%20id='path8505'%20sodipodi:nodetypes='cccc'%20/%3e%3c/g%3e%3c/svg%3e",pi="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='16.0px'%20height='16.0px'%20viewBox='0%200%2016.0%2016.0'%20version='1.1'%20id='SVGRoot'%20sodipodi:docname='folder.svg'%20inkscape:version='1.1.2%20(0a00cf5339,%202022-02-04)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview49180'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:document-units='px'%20showgrid='true'%20inkscape:zoom='49.659708'%20inkscape:cx='7.2493378'%20inkscape:cy='6.7056375'%20inkscape:window-width='2560'%20inkscape:window-height='1384'%20inkscape:window-x='1440'%20inkscape:window-y='666'%20inkscape:window-maximized='1'%20inkscape:current-layer='layer1'%3e%3cinkscape:grid%20type='xygrid'%20id='grid49243'%20spacingx='0.1'%20spacingy='0.1'%20/%3e%3c/sodipodi:namedview%3e%3cdefs%20id='defs49175'%20/%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%3e%3cpath%20style='fill:%23666666;stroke:%23000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='M%2015,14%20H%201%20V%202.5%20H%206%20L%207,5%20h%208%20z'%20id='path49823'%20/%3e%3c/g%3e%3c/svg%3e",hi={billboard:li,label:ci,polygon:di,polyline:ui,folder:pi};function fi({entity:e,selectedEntity:t,entities:n,typeStatistics:i,selectEntity:o}){const s=q(null),r=Je.find(f=>e[f]!==void 0),l=r===void 0&&n.some(f=>{var _;return((_=f.parent)==null?void 0:_.id)===e.id}),u=r!==void 0?i[r]:0,c=e.name||`${r} ${u}`,p=t===e,d=w(()=>{o&&!l&&o(e)},[e,o,l]);return p&&s.current&&s.current.scrollIntoView({block:"nearest"}),a("div",{ref:s,class:M("entity",p&&"selected"),onClick:d,children:[a(_i,{type:l?"folder":r}),a("span",{children:" "}),a("span",{class:"entity-title",children:c})]},e.id)}function _i({type:e}){const t=e&&hi[e];return a("span",{class:"entity-type",children:a("img",{alt:e,src:t})})}function lt({visible:e,children:t,className:n}){return a("div",{class:M(n,"modal",e&&"visible"),children:a("div",{class:"content",children:t})})}function mi({entities:e,onClose:t}){const n=new Set;e.forEach(c=>{var p;return(p=c.properties)==null?void 0:p.propertyNames.forEach(d=>n.add(d))});const i=Array.from(n),[o,s]=E([]),r=w(c=>{const d=e.map(v=>{var g;return(g=v.properties)==null?void 0:g.getValue()[c]}),f=[Number.MAX_VALUE,Number.MIN_VALUE];d.forEach(v=>{f[0]=Math.min(v,f[0]),f[1]=Math.max(v,f[1])});const[_,m]=f,y=(m-_)/9,b=d.map(v=>Math.floor((_+v)/y));s(b)},[e,s]),l=a("thead",{children:a("tr",{children:[a("th",{children:"Name"}),o.length>0&&a("th",{children:"Bucket"}),i.map(c=>a("th",{children:[c,a("button",{onClick:r.bind(void 0,c),children:"Histogram"})]},c))]})}),u=e.map((c,p)=>a("tr",{children:[a("td",{children:c.name},"name"),o.length>0&&a("td",{children:o[p]},"bucket"),i.map(d=>{var f;return a("td",{children:((f=c.properties)==null?void 0:f.getValue()[d])||""},d)})]}));return window.entities=e,a(lt,{visible:!0,className:"data-table",children:[a("div",{class:"actions",children:a("button",{onClick:()=>t&&t(),children:"Close"})}),a("div",{class:"scroll",children:a("table",{children:[l,a("tbody",{children:u})]})})]})}function gi({entities:e,entity:t,selectEntity:n}){const i={};Je.forEach(l=>i[l]=0),e.forEach(l=>{const u=Je.find(c=>l[c]!==void 0);u&&(i[u]+=1)});const[o,s]=E(!1),r=e.map(l=>a(fi,{entity:l,selectedEntity:t,entities:e,typeStatistics:i,selectEntity:n},l.id));return a("div",{id:"entity-list",class:"section entities-list-section",children:[a("h3",{children:"Entities"}),o&&a(mi,{entities:e,onClose:()=>{s(!1)}}),a("div",{class:"entities-actions button-size-s",children:a("button",{onClick:()=>{s(!0)},children:"Data table"})}),a("div",{class:"scroll-container",children:r}),a(si,{entity:t,selectEntity:n},`${t==null?void 0:t.id}.selection-sync`)]})}function vi(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}var wi=0;function le({label:e,value:t,className:n,onChange:i}){const o="input-"+wi++,s=w(r=>{i&&i(r.target.value)},[i]);return a("div",{class:M("input-container","generic",n),children:[a("input",{type:"text",class:M("input",!!t&&"not-empty"),id:o,value:t,onChange:s}),e&&a("label",{for:o,class:"label",children:e}),a("div",{class:"underline"})]})}function fn({checked:e,onChange:t}){return a("label",{className:"switch",children:[a("input",{type:"checkbox",checked:e,onChange:t}),a("span",{className:"slider"})]})}var yi=0;function bi({label:e,value:t,onChange:n}){const i="input-b"+yi++,o=w(s=>{n&&n(s.target.checked)},[n]);return a("div",{class:"input-container boolean-fld",children:[e&&a("label",{for:i,class:"label",children:e}),a(fn,{checked:t||!1,onChange:o}),a("div",{class:"underline"})]})}function Ie({value:e,gradient:t,backgroundImage:n,onChange:i}){const o=[t&&`linear-gradient(to right, ${t.join(",")})`,n&&`url(${n})`].filter(u=>!!u).join(","),s=t&&{backgroundImage:o},r=w(u=>{e=parseFloat(u.target.value)/1e3,i&&i(e)},[i]),l=(e*1e3).toFixed(0);return a("input",{class:"hue-range",style:s,value:l,onChange:r,type:"range",min:0,max:1e3})}const xt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='16.0px'%20height='16.0px'%20viewBox='0%200%2016.0%2016.0'%20version='1.1'%20id='SVGRoot'%20sodipodi:docname='undef-color.svg'%20inkscape:version='1.1.2%20(0a00cf5339,%202022-02-04)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview829'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:document-units='px'%20showgrid='true'%20inkscape:zoom='49.659708'%20inkscape:cx='7.7527641'%20inkscape:cy='8.4776979'%20inkscape:window-width='2560'%20inkscape:window-height='1384'%20inkscape:window-x='1440'%20inkscape:window-y='666'%20inkscape:window-maximized='1'%20inkscape:current-layer='layer1'%3e%3cinkscape:grid%20type='xygrid'%20id='grid892'%20/%3e%3c/sodipodi:namedview%3e%3cdefs%20id='defs824'%20/%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%3e%3cpath%20style='fill:none;stroke:%23ff0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='M%202,14%2014,2'%20id='path971'%20/%3e%3cpath%20style='fill:none;stroke:%23ff0000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='M%2014,14%202,2'%20id='path1018'%20/%3e%3c/g%3e%3c/svg%3e",Ci="/czml-editor/assets/checker-s-BCFT3Bev.png";function ki({value:e,debounceTimeout:t,debouncedOnChange:n,...i}){const[o,s]=E(e);K(()=>{s(e)},[e,s]);const r=q({value:e,timeout:null}),l=w(u=>{const c=u.target.value;s(c),r.current.value=c,r.current.timeout&&clearTimeout(r.current.timeout),r.current.timeout=setTimeout(()=>{n(r.current.value),r.current.timeout=null},t)},[s,t,n,r]);return a("input",{value:o,onChange:l,...i})}function Et({value:e,label:t,alpha:n,onChange:i}){const[o,s,r]=e&&It(e.red,e.green,e.blue)||[0,.5,.5],[l,u]=E(o),[c,p]=E(s*100),[d,f]=E(r*100),[_,m]=E(e&&e.alpha||1),y=w(k=>{u(k*360);var A=ie.fromHsl(k,c/100,d/100);n&&(A=A.withAlpha(_)),i&&i(A)},[c,d,_,n,u,i]),b=w(k=>{p(k*100);var A=ie.fromHsl(l/360,k,d/100);n&&(A=A.withAlpha(_)),i&&i(A)},[l,d,_,n,p,i]),v=w(k=>{f(k*100);var A=ie.fromHsl(l/360,c/100,k);n&&(A=A.withAlpha(_)),i&&i(A)},[l,c,_,n,f,i]),g=w(k=>{m(k),i&&i(ie.fromHsl(l/360,c/100,d/100).withAlpha(k))},[l,c,d,m,i]),I=w(k=>{(k===""||k==="none"||k==="undefined")&&i&&i(void 0);const A=ie.fromCssColorString(k);if(A){i&&i(A);const[X,ce,L]=It(A.red,A.green,A.blue);u(X),u(ce),u(L),m(A.alpha)}},[u,p,f,m,i]),O=`hsl(${l.toFixed(0)}, 0%, ${d.toFixed(2)}%)`,Z=`hsl(${l.toFixed(0)}, 100%, ${d.toFixed(2)}%)`,H=`hsl(${l.toFixed(0)}, ${c.toFixed(2)}%, 0%)`,G=`hsl(${l.toFixed(0)}, ${c.toFixed(2)}%, 50%)`,j=`hsl(${l.toFixed(0)}, ${c.toFixed(2)}%, 100%)`;var B=ie.fromHsl(l/360,c/100,d/100);n&&(B=B.withAlpha(_));const F=`hsla(${l.toFixed(0)}, ${c.toFixed(1)}%, ${d.toFixed(1)}%, 0)`,te=`hsla(${l.toFixed(0)}, ${c.toFixed(1)}%, ${d.toFixed(1)}%, 1)`,T={backgroundColor:`hsla(${l.toFixed(0)}, ${c.toFixed(2)}%, ${d.toFixed(2)}%, ${_.toFixed(3)})`};let $=B&&Math.floor(B.alpha*255).toString(16);$=`${$.length===1?"0":""}${$}`;const U=e&&(B==null?void 0:B.toCssHexString())||"none",Ae=e&&n&&!U.match(/#[\d,a-f]{8}/i)?$:"",Pe=U+Ae;return a("div",{class:"input-container color-fld button-size-s",children:[t&&a("label",{class:"label",children:t}),a("div",{class:"picker-layout",children:[a("div",{class:"picker-preview-container",children:a("div",{class:"checker",children:[e&&a("div",{class:"preview",style:T}),e===void 0&&a("div",{class:"preview-none",children:a("img",{src:xt})})]})}),a("div",{class:"picker-sliders",children:[a(Ie,{value:l/360,onChange:y}),a(Ie,{value:c/100,gradient:[O,Z],onChange:b}),a(Ie,{value:d/100,gradient:[H,G,j],onChange:v}),n&&a(Ie,{value:_,gradient:[F,te],backgroundImage:Ci,onChange:g})]})]}),a("div",{class:"color-text-input",children:[a(ki,{value:Pe,debounceTimeout:500,debouncedOnChange:I}),a("button",{class:"reset-value",onClick:()=>{i&&i(void 0)},children:a("img",{src:xt})})]}),a("div",{class:"underline"})]})}function It(e,t,n){let i=Math.max(e,t,n),o=i-Math.min(e,t,n),s=1-Math.abs(i+i-o-1),r=o&&(i==e?(t-n)/o:i==t?2+(n-e)/o:4+(e-t)/o);return[60*(r<0?r+6:r),s?o/s:0,(i+i-o)/2]}function Ai({label:e,enumObj:t,ignore:n,value:i,onChange:o}){const r=Object.entries(t||{}).filter(([u])=>!(n!=null&&n.includes(u))).map(([u,c])=>({val:c,key:u,selected:i===c})).map(u=>{const c=`${u.val}-${u.key}`,p=M("enum-fld-option",u.selected&&"selected");return a("div",{class:p,onClick:()=>{o&&o(u.val)},children:[Pi(u.key),a("span",{class:M("status",u.selected&&"selected")})]},c)}),l=M("input-container","enum-fld",i===void 0&&"val-undefined");return a("div",{class:l,children:[e&&a("label",{class:"label",children:e}),a("div",{class:"enum-fld-options",children:r}),a("div",{class:"underline"})]})}function Pi(e){return e.split("_").map(t=>t.toLowerCase()).filter(t=>!!t).join(" ")}const xi=["x","y","z","w"];function Me({label:e,value:t,size:n,targetClass:i,componentNames:o,inline:s,onChange:r}){const l=(t==null?void 0:t.length)||(o==null?void 0:o.length)||n||3,u=Array.from({length:l},(_,m)=>(t==null?void 0:t[m])||null),[c,p]=E(u),d=w((_,m)=>{const y=c.map((I,O)=>O!==_?I:m);p(y);const b=y.map(I=>Number(I)),v=b.every(I=>I!==void 0&&!isNaN(I)),g=v&&(i&&new i(...b)||b);r&&r(v?g:void 0)},[c,i,r]),f=c.map((_,m)=>{const y=(o==null?void 0:o[m])||xi[m],v=_==null?"":""+_;return a(le,{className:"component-fld",value:v,label:y,onChange:d.bind(void 0,m)},y)});return a("div",{class:M("input-container","vector-fld",s&&"inline"),children:[a("div",{children:e}),a("div",{class:M("components",s&&"inline"),children:f})]})}function ct({onFile:e,accept:t,name:n,disabled:i}){const o=q(null),s=w(()=>{var r;for(let l of(r=o.current)==null?void 0:r.files)e&&e(l)},[e,o]);return a(Q,{children:[a("button",{disabled:i,onClick:()=>{var r;(r=o.current)==null||r.click()},children:n||"Load"}),a("input",{ref:o,onChange:s,type:"file",id:"file",style:{display:"none"},multiple:!0,accept:t})]})}function Ei(e){return new Promise((t,n)=>{const i=new FileReader;i.onloadend=()=>t(i.result),i.readAsDataURL(e)})}function Ii({accept:e,className:t,children:n,onFile:i}){const o=q(null),[s,r]=E(!1),[l,u]=E(!0);K(()=>{const p=o.current;if(!p)return;const d=y=>{y.preventDefault(),y.dataTransfer&&y.dataTransfer.files&&e&&u(Array.from(y.dataTransfer.files).every(b=>e(b))),r(!0)},f=y=>{y.preventDefault(),r(!1)},_=y=>{y.preventDefault(),r(!0)},m=y=>{if(y.preventDefault(),r(!1),y.dataTransfer&&y.dataTransfer.files)for(let b of y.dataTransfer.files)i&&i(b)};return p.addEventListener("dragenter",d),p.addEventListener("dragleave",f),p.addEventListener("dragover",_),p.addEventListener("drop",m),()=>{p.removeEventListener("dragenter",d),p.removeEventListener("dragleave",f),p.removeEventListener("dragover",_),p.removeEventListener("drop",m)}},[i,e,r,o]);const c=M("drop-zone",s&&"drag-over",!l&&"reject",t);return a("div",{ref:o,class:c,children:n})}function Di({value:e,onChange:t}){const{resources:n,setResources:i}=V(An),o=w(f=>{const _=n.uploads;_.includes(f)||i({...n,uploads:[..._,f]})},[n,i]),s=w(async f=>{const _=await Ei(f);o(_)},[o]),[r,l]=E(),u=w(()=>{r&&o(r),l(void 0)},[r,l,o]),c=e instanceof ae?e.url:e,d=[...n.datasourceIcons,...n.defaultIcons,...n.uploads].map(f=>{const _=new ae(f);return a(Si,{selected:f===c,resource:_,onClick:()=>{t&&t(f)}},f)});return a("div",{class:"icon-lib",children:[a("div",{class:"icon-lib-icons",children:d}),a(Ii,{className:"icon-drop-zone",onFile:s,children:[a("div",{children:"Drop image or click"}),a(ct,{name:"Upload image",accept:"image/*",onFile:s})]}),a("div",{style:{display:"flex"},children:[a("button",{onClick:u,children:"Load from URL"}),a(le,{className:"wide",label:"Load URL",value:r,onChange:l})]})]})}function Si({resource:e,selected:t,onClick:n}){const i=q(null),[o,s]=E([0,0]);K(()=>{i.current&&(i.current.onload=()=>{var u,c;s([((u=i.current)==null?void 0:u.naturalWidth)||0,((c=i.current)==null?void 0:c.naturalHeight)||0])})},[i,s]);const[r,l]=o;return a("div",{class:"icon-lib-icon-component",onClick:n,children:[a("div",{class:M("icon-lib-icon",t&&"selected"),children:a("img",{ref:i,src:e.url})}),a("div",{children:[a("span",{children:r}),a("span",{children:"x"}),a("span",{children:l})]})]})}function Ti({label:e,value:t,onChange:n}){const[i,o]=E(!1),s=t instanceof ae?t.url:t;return a("div",{class:"imgurl-fld-container",children:[a("div",{class:"imgurl-fld",children:[a("div",{class:"label",children:e||"Billbord image"}),a("img",{src:s}),a("button",{class:"size-s",onClick:()=>{o(!0)},children:"Change"})]}),a(lt,{visible:i,children:[a("div",{children:a("button",{onClick:()=>{o(!1)},children:"Close"})}),a(Di,{value:t,onChange:n})]})]})}function Mi({subject:e,property:t,onChange:n}){var _;const{name:i,type:o,title:s}=t,r=s||vi(i),l=e[t.name],u=l!==void 0&&l instanceof et&&!l.isConstant,c=l==null?void 0:l.valueOf();i==="text"&&console.log(l,c);const[p,d]=E(),f=w(m=>{t.type==="number"&&typeof m=="string"&&(m=m.includes(".")?parseFloat(m):parseInt(m),m=Number.isNaN(m)?void 0:m),l!==void 0&&l.setValue?l.setValue(m):t.type==="enum"?e[t.name]=new pe(m):e[t.name]=m,n&&n(m),d(m)},[e,l,t,d]);if(u)return console.log("interpolated property",l),a("div",{children:[`Cant't edit "`,t.name,'" because its values are interpolated']});switch(o){case"string":return a(le,{label:r,value:c,onChange:f});case"number":return a(le,{label:r,value:c,onChange:f});case"boolean":return a(bi,{label:r,value:c,onChange:f});case"vector":{const{size:y,targetClass:b,componentNames:v}=t;return a(Me,{label:r,value:c,size:y,targetClass:b,componentNames:v,onChange:f})}case"distance-display-condition":{const{size:y,targetClass:b,componentNames:v}=ri,g=c&&[c==null?void 0:c.near,c==null?void 0:c.far];return a(Me,{label:r,value:g,size:y,targetClass:b,componentNames:v,onChange:f})}case"near-far-scalar":{const{size:y,targetClass:b,componentNames:v}=ai,g=c&&[c==null?void 0:c.near,c==null?void 0:c.nearValue,c==null?void 0:c.far,c==null?void 0:c.farValue];return a(Me,{label:r,value:g,size:y,targetClass:b,componentNames:v,onChange:f})}case"enum":return a(Ai,{label:r,value:c,enumObj:t.enum,ignore:t.ignore,onChange:f});case"color":return a(Et,{label:r,value:c,alpha:t.noAlpha!==!0,onChange:f});case"material":const m=(_=c==null?void 0:c.color)==null?void 0:_.valueOf();return a(Et,{label:r,value:m,alpha:t.noAlpha!==!0,onChange:f});case"image-url":return a(Ti,{label:r,value:c,onChange:f});default:return console.warn(`Unsupported value type ${o} for field ${t.name}`,c),a(le,{label:r,value:c,onChange:f})}}function Oi({children:e}){const[t,n]=E(0),i=Array.isArray(e)?e:[e],o=i.map((r,l)=>{const u=r.props.title;return a("span",{class:M("tab-header",l===t&&"selected"),onClick:()=>n(l),children:u})}),s=i.map((r,l)=>a("div",{class:M("tab",l===t&&"selected"),children:r}));return a(Q,{children:[a("div",{class:"tab-bar",children:o}),s]})}function Ri({children:e}){return a(Q,{children:e})}function Li({entity:e,metadata:t}){const i=(Array.isArray(t)?t:[t]).map(o=>{const s=e[o.feature];return s&&o.propertyGroups.map(r=>a(Ri,{title:r.title,children:r.properties.map(l=>a(Mi,{subject:s,property:l},`${e==null?void 0:e.id}.${o.feature}.${l.name}`))},`${e==null?void 0:e.id}.${o.feature}.${r.title}`))}).flat(1);return a("div",{class:M("feature-editor"),children:i&&a(Oi,{children:i})})}function Ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ge,Dt;function Hi(){if(Dt)return Ge;Dt=1;const e=String.raw`[A-Za-z][^/\s>]*`,t=String.raw`\B"(?:\\[^<>\n]|[^\\"<>\n])*"(?!\w)`,n=String.raw`\B'(?:\\[^<>\n]|[^\\'<>\n])*'(?!\w)`,i=String.raw`${t}|${n}`,o=String.raw`"(?<quotedAttrValue>[^"]*)"`,s=String.raw`'(?<singleQuotedAttrValue>[^']*)'`,r=String.raw`(?<unquotedAttrValue>[^\s"'\`=<>]+)`,l=String.raw`[^=\s>/"']+(?=[=>\s]|$)`,u=String.raw`${o}|${s}|${r}`,c=String.raw`(?<attrName>${l})(?:\s*=\s*(?:${u}))?`,p=String.raw`${i}|[^\s>]*[^\s>/]|[^\s>]*/(?!\s*>)`,d=String.raw`(?<attrSpace>\s*)(?:${c}|(?<attrText>${p}))`,f={comment:String.raw`<!--.*?-->`,dtd:String.raw`<![^>]+>`,startTag:String.raw`<(?<startTagName>${e})(?<attrs>(?:${d})*)\s*(?<closingSlash>/?)\s*>`,endTag:String.raw`</(?<endTagName>${e})\s*>`,space:String.raw`\s+`,text:String.raw`[^<\s"']+|${i}|['"]`,wildcard:String.raw`.`},_=Object.entries(f).map(([v,g])=>`(?<${v}>${g})`).join("|");function*m(v,g){let I,{lastIndex:O}=v;for(;I=v.exec(g);)yield I,{lastIndex:O}=v;if(O!=g.length)throw new Error("Failed to parse string")}const y=new Set(["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"]);function b(v,g="  ",I=80){var Pe;const O=new RegExp(_,"gys"),Z=new RegExp(d,"gy"),H=[];let G=null,j=0,B=0,F="",te=0,T="";const $=()=>{if(T&&T!=`
`){const X=F.indexOf(`
`),ce=X==-1?F.length:X;B+T.length+ce>I&&(T=`
`)}const k=T==`
`&&F?g.repeat(te):"",A=`${T}${k}${F}`;if(A){const X=A.lastIndexOf(`
`);X==-1?B+=A.length:B=A.length-X-1,H.push(A)}F=T=""},U=(...k)=>{for(const A of k)!G&&/^\s+$/.test(A)?($(),T=A):(F||(te=j),F+=A)};for(const k of m(O,v)){if(b.__strict&&k.groups.wildcard)throw new Error("Unexpected wildcard");if(k.groups.endTag){const A=k.groups.endTagName.toLowerCase();A==G&&(G=null),G||(--j,U(`</${A}>`))}if(G)U(k[0]);else if(k.groups.space)U(...((Pe=k[0].match(/\n/g))==null?void 0:Pe.slice(0,2))??[" "]);else if(k.groups.comment||k.groups.dtd||k.groups.text||k.groups.wildcard)U(k[0]);else if(k.groups.startTag){const A=k.groups.startTagName.toLowerCase();if(U(`<${A}`),++j,k.groups.attrs){let{lastIndex:ce}=Z,L,xe;for(;L=Z.exec(k.groups.attrs);){if({lastIndex:ce}=Z,b.__strict&&L.groups.attrText)throw new Error("Unexpected attr text");L.groups.attrText?(L.groups.attrSpace&&U(/\n/.test(L.groups.attrSpace)?`
`:" "),U(L.groups.attrText)):((L.groups.attrSpace||!(xe!=null&&xe.groups.attrText))&&U(/\n/.test(L.groups.attrSpace)?`
`:" "),U(`${L.groups.attrName}${L.groups.quotedAttrValue?`="${L.groups.quotedAttrValue}"`:L.groups.singleQuotedAttrValue?`='${L.groups.singleQuotedAttrValue}'`:L.groups.unquotedAttrValue?`=${L.groups.unquotedAttrValue}`:""}`)),xe=L}if(ce!=k.groups.attrs.length)throw new Error("Failed to parse attributes")}const X=!!k.groups.closingSlash;U(X?" />":">"),X||y.has(A)?--j:["pre","textarea","script","style"].includes(A)&&(G=A)}}$();let Ae=!1;for(;/^\s+$/.test(H[H.length-1]);){const k=H.pop();/\n/.test(k)&&(Ae=!0)}return Ae&&H.push(`
`),H.join("")}return b.default=b,Ge=b,Ge}var Bi=Hi();const Fi=Ni(Bi);function zi({entity:e}){const[t,n]=E(!1),[i,o]=E(!1),s=V(ee),r=q(),l=e==null?void 0:e.description,u=l==null?void 0:l.valueOf(),[c,p]=E(),d=q(null);K(()=>{n(!1);const g=r.current;g&&(g.viewModel.showInfo=!1,g.viewModel.description=u)},[u,r,n]),K(()=>{if(s)return r.current=new Mn(s.container),r.current.viewModel.closeClicked.addEventListener(()=>{n(!1),r.current&&(r.current.viewModel.showInfo=!1)}),()=>{var g;(g=r.current)==null||g.destroy(),r.current=void 0}},[r,s,n]);const f=w(()=>{const g=!t;n(g);const I=r.current;I&&(I.viewModel.description=u,I.viewModel.showInfo=g&&u)},[u,r,t,n]),_=w(()=>{o(!0),p(u)},[u,p,o]),m=w(()=>{o(!1),p(void 0)},[p,o]),y=w(()=>{e&&(l?l.setValue(c):e.description=new pe(c)),o(!1),p(void 0)},[e,l,c,p,o]),b=w(g=>{p(g.target.value)},[e,l,p]),v=w(()=>{var O;const g=(O=d.current)==null?void 0:O.value,I=g&&Vi(Fi(g));e&&I&&(l?l.setValue(I):e.description=new pe(I),p(I))},[d,e,l,p]);return a("div",{class:"entity-description-fld",children:[a(lt,{visible:i,children:[a("div",{class:"editor-actions",children:[a("button",{onClick:y,children:"Save"}),a("span",{children:" "}),a("button",{onClick:m,children:"Cancel"}),a("span",{children:" "}),a("button",{onClick:v,children:"Format"})]}),a("textarea",{ref:d,class:"description-editor",onChange:b,children:c})]}),a("div",{class:"label",children:"Description"}),a("div",{class:"sescription-fld-actions button-size-s",children:[a("button",{onClick:f,children:"Preview"}),a("span",{class:"spacer",children:" "}),a("button",{onClick:_,children:"Edit"})]})]})}function Vi(e){return e&&e.split(`
`).filter(t=>!t.match(/^[\s]*$/)).join(`
`)}const $i=[{name:"height",type:"number"},{name:"extrudedHeight",type:"number"},{name:"heightReference",type:"enum",enum:z,description:Pt},{name:"extrudedHeightReference",type:"enum",enum:z,description:Pt},{name:"perPositionHeight",type:"boolean"},{name:"closeBottom",type:"boolean"},{name:"closeTop",type:"boolean"}],Ui=[{name:"fill",type:"boolean"},{name:"material",type:"material"},{name:"outline",type:"boolean"},{name:"outlineColor",type:"color"},{name:"outlineWidth",type:"number"}],Gi=[{name:"classificationType",type:"enum",enum:Ce,ignore:["NUMBER_OF_CLASSIFICATION_TYPES"]},{name:"zIndex",type:"number"},{name:"distanceDisplayCondition",type:"distance-display-condition"}],ji={feature:"polygon",propertyGroups:[{title:"Appearance",properties:Ui},{title:"Geometry",properties:$i},{title:"Extra",properties:Gi}]},Wi=[{name:"image",type:"image-url"},{name:"width",type:"number"},{name:"height",type:"number"},{name:"sizeInMeters",type:"boolean"},{name:"horizontalOrigin",type:"enum",enum:He},{name:"verticalOrigin",type:"enum",enum:he}],Zi=[{name:"translucencyByDistance",type:"near-far-scalar"},{name:"pixelOffset",type:"vector",size:2},{name:"pixelOffsetScaleByDistance",type:"near-far-scalar"},{name:"scale",type:"number"},{name:"scaleByDistance",type:"near-far-scalar"},{name:"rotation",type:"number"},{name:"alignedAxis",type:"vector"},{name:"color",type:"color",noAlpha:!0},{name:"imageSubRegion",type:"vector",size:4,componentNames:["x","y","width","height"]},{name:"distanceDisplayCondition",type:"distance-display-condition"},{name:"disableDepthTestDistance",type:"number"}],Xi={feature:"billboard",propertyGroups:[{title:"Appearance",properties:Wi},{title:"Extra",properties:Zi}]};function Ve({label:e,checked:t,onChange:n,className:i}){return a("div",{class:M("labled-switch",i),children:[a("label",{children:e}),a(fn,{checked:!!t,onChange:()=>{n&&n(!t)}})]})}function Qi({entity:e,showData:t,setShowData:n}){const i=e.properties,o=i==null?void 0:i.getValue(),s=t&&(i==null?void 0:i.propertyNames.map(r=>a("tr",{children:[a("td",{children:r}),a("td",{children:o[r]})]},r)));return a("div",{className:M("entity-data"),children:[a("h4",{children:"Data"}),a("div",{class:M("data-empty-warning",o&&"hidden"),children:"Data is empty"}),a("div",{class:M("data-display",!o&&"hidden"),children:[a(Ve,{label:"Show data",className:"show-entity-data",checked:t,onChange:n}),a("table",{class:"data-properties-table",children:a("tbody",{children:s})})]})]})}function se(e,t){const n=e.camera.getPickRay(t);return n&&e.scene.globe.pick(n,e.scene)||e.camera.pickEllipsoid(t,e.scene.globe.ellipsoid)}function Yi(e,t,n){var s,r;let i=null,o=null;if(t.position&&t.position.isConstant)i=()=>t.position.getValue(),o=l=>{t.position.setValue(l)};else if(t.polygon&&((s=t.polygon.hierarchy)!=null&&s.isConstant)){const l=t.polygon.hierarchy.getValue();i=()=>t.polygon.hierarchy.getValue().positions[0],o=(u,c,p,d)=>{t.polygon.hierarchy.setValue(vn(l,p,d))}}else if(t.polyline&&((r=t.polyline.positions)!=null&&r.isConstant)){const l=t.polyline.positions.getValue().map(_n);i=()=>t.polyline.positions.getValue()[0],o=(u,c,p,d)=>{t.polyline.positions.setValue(l.map(f=>gn(f,p,d)).map(mn))}}if(i&&o)return e.attachToEntity(t,i,o,n)}class Ji{constructor(t){x(this,"viewer");x(this,"state",null);x(this,"screenSpaceEventHandler",null);this.viewer=t}bindScreenSpaceEvents(){this.screenSpaceEventHandler||(this.screenSpaceEventHandler=new Wt(this.viewer.scene.canvas),this.screenSpaceEventHandler.setInputAction(this.mouseMove.bind(this),we.MOUSE_MOVE),this.screenSpaceEventHandler.setInputAction(this.mouseDown.bind(this),we.LEFT_DOWN),this.screenSpaceEventHandler.setInputAction(this.mouseUp.bind(this),we.LEFT_UP))}unBindScreenSpaceEvents(){this.screenSpaceEventHandler&&(this.screenSpaceEventHandler.destroy(),this.screenSpaceEventHandler=null)}mouseUp(t){this.state&&this.state.picked&&(this.state.onDragEnd&&this.state.onDragEnd(),this.reset())}mouseMove(t){if(this.state&&this.state.mouseDownPosition&&this.state.mouseDownEntityPosition){const n=se(this.viewer,t.endPosition);if(n){const i=Y.fromCartesian(n),o=i.latitude-this.state.mouseDownPosition.latitude,s=i.longitude-this.state.mouseDownPosition.longitude,r=new Y(this.state.mouseDownEntityPosition.longitude+s,this.state.mouseDownEntityPosition.latitude+o,this.state.mouseDownEntityPosition.height);this.state.newPosition(r,s,o)}}}mouseDown(t){const n=this.viewer.scene.pick(t.position);if(this.state&&n&&this.state.pick(n)){this.state.picked=!0,this.disableDefaultControls();const i=se(this.viewer,t.position);i&&(this.state.mouseDownPosition=Y.fromCartesian(i),this.state.mouseDownEntityPosition=this.state.getEntityPosition())}}attachToEntity(t,n,i,o){const s={picked:!1,entity:t,initialPosition:Y.fromCartesian(n()),mouseDownPosition:null,mouseDownEntityPosition:null,pick:r=>r.id===t,getEntityPosition:function(){return this.initialPosition},newPosition:function(r,...l){const u=Y.toCartesian(r);i(u,r,...l)},onDragEnd:o};return this.state=s,this}disableDefaultControls(){this.viewer.scene.screenSpaceCameraController.enableInputs=!1}enableDefaultControls(){this.viewer.scene.screenSpaceCameraController.enableInputs=!0}reset(){this.state=null,this.enableDefaultControls()}}function _n(e){return Y.fromCartesian(e)}function mn(e){return Y.toCartesian(e)}function gn(e,t,n){return new Y(e.longitude+t,e.latitude+n,e.height)}function vn(e,t,n){var s;const i=e.positions.map(_n).map(r=>gn(r,t,n)).map(mn),o=(s=e.holes)==null?void 0:s.map(r=>vn(r,t,n));return new On(i,o)}function Ki({entity:e,onChange:t}){const n=e.position,o=n&&n.isConstant&&n.getValue(),s=o?Y.fromCartesian(o):void 0,r=St(s==null?void 0:s.latitude),l=St(s==null?void 0:s.longitude),u=s==null?void 0:s.height,c=w(p=>{const d=parseFloat(p);if(!isNaN(d)&&r&&l){const f=Zt.fromDegrees(l,r,d);t&&t(f)}},[r,l,t]);if(!(!r||!l))return a("div",{class:"position-fld",children:[a("div",{class:"label",children:[a("span",{children:"Latitude"}),a("span",{children:"Longitude"}),a("span",{children:"Height(m)"})]}),a("div",{class:"value",children:[a("span",{children:`${r==null?void 0:r.toFixed(6)}`}),a("span",{children:`${l==null?void 0:l.toFixed(6)}`}),a("span",{children:`${u==null?void 0:u.toFixed(3)}`})]}),a(le,{label:"height",value:""+(u==null?void 0:u.toFixed(3)),onChange:c})]})}function St(e){return e!==void 0?e*180/Math.PI:void 0}function qi({entity:e}){const t=V(ee),n=w(()=>{e&&(t==null||t.flyTo(e,{duration:1}))},[t,e]),i=V(ge).positionDragController,[o,s]=E(!1),r=w(()=>{s(!1),i&&(i.reset(),i==null||i.unBindScreenSpaceEvents(),i==null||i.enableDefaultControls())},[i,e,s]),l=w(()=>{s(!0),i&&(Yi(i,e,r),i.bindScreenSpaceEvents())},[i,e,r]),u=w(p=>{i&&e&&(p?l():r())},[l,r]),c=w(p=>{e.position&&e.position.isConstant&&e.position.setValue(p)},[e]);return a("div",{class:"entity-position",children:[a("h4",{children:[a("span",{children:"Position"})," ",a("button",{onClick:n,class:"fly-to-button",children:"Flyto"})]}),a(Ki,{entity:e,onChange:c}),a(Ve,{checked:o,onChange:u,label:"Drag to move"})]})}const eo=[{name:"text",type:"string"},{name:"pixelOffset",type:"vector",size:2,targetClass:Xt},{name:"fillColor",type:"color"},{name:"outlineWidth",type:"number"},{name:"outlineColor",type:"color"},{name:"style",type:"enum",enum:Qt},{name:"horizontalOrigin",type:"enum",enum:He},{name:"verticalOrigin",type:"enum",enum:he},{name:"font",type:"string"},{name:"scale",type:"number"},{name:"heightReference",type:"enum",enum:z}],to=[{name:"showBackground",type:"boolean"},{name:"backgroundColor",type:"color"},{name:"backgroundPadding",type:"vector",size:2,targetClass:Xt},{name:"scaleByDistance",type:"near-far-scalar"},{name:"translucencyByDistance",type:"near-far-scalar"},{name:"pixelOffsetScaleByDistance",type:"near-far-scalar"},{name:"distanceDisplayCondition",type:"distance-display-condition"}],no={feature:"label",propertyGroups:[{title:"Label",properties:eo},{title:"Label Extra",properties:to}]},io=[{name:"width",type:"number"},{name:"material",type:"material"},{name:"clampToGround",type:"boolean"},{name:"distanceDisplayCondition",type:"distance-display-condition"},{name:"classificationType",type:"enum",enum:Ce,ignore:["NUMBER_OF_CLASSIFICATION_TYPES"]}],oo={feature:"polyline",propertyGroups:[{title:"Polyline properties",properties:io}]};function so({entity:e,onChange:t}){var s,r;const[n,i]=E((r=(s=e==null?void 0:e.label)==null?void 0:s.show)==null?void 0:r.getValue()),o=w(l=>{var u,c;if(e){if(!e.label&&l){if(!e.position&&e.polygon){const p=(u=e.polygon.hierarchy)==null?void 0:u.getValue().boundingSphere.center;e.position=new ut(p)}if(!e.position&&e.polyline){const p=(c=e.polyline.positions)==null?void 0:c.getValue()[0];e.position=new ut(p)}e.label=new Rn({show:!0,text:e.name})}if(e.label){const p=e.label.show;if(p&&p.isConstant)p.setValue(l);else if(p===void 0)e.label.show=new pe(l);else return;i(l),t&&t(e)}}},[e,t,i]);return a(Ve,{label:"Show label",checked:n,onChange:o})}function ro({entity:e,onChange:t}){var u;const[n,i]=E(!1),o=(u=V(ge))==null?void 0:u.geometryEditor,s=w(()=>{if(o){const c=e.polygon?"polygon":"polyline";o.editEntity(c,e),i(!0)}},[e,o,i]),r=w(()=>{o==null||o.cancel(),i(!1)},[o,i]),l=w(()=>{o==null||o.save(),t&&t(e),i(!1)},[o,i]);return a("div",{class:M("edit-geometry","button-size-s"),children:[!n&&a("button",{onClick:s,children:"Edit geometry"}),n&&a("button",{onClick:l,children:"Save"}),n&&a("button",{onClick:r,children:"Cancel"})]})}const ao=[{name:"scale",type:"number"},{name:"minimumPixelSize",type:"number"},{name:"maximumScale",type:"number"}],lo=[{name:"color",type:"color"},{name:"colorBlendMode",type:"enum",enum:Yt},{name:"colorBlendAmount",type:"number"},{name:"silhouetteColor",type:"color"},{name:"silhouetteSize",type:"number"}],co=[{name:"runAnimations",type:"boolean"},{name:"clampAnimations",type:"boolean"},{name:"shadows",type:"enum",enum:ke,ignore:["NUMBER_OF_SHADOW_MODES"]},{name:"heightReference",type:"enum",enum:z},{name:"distanceDisplayCondition",type:"distance-display-condition"}],uo={feature:"model",propertyGroups:[{title:"Scale & Display",properties:ao},{title:"Color",properties:lo},{title:"Extra",properties:co}]};function po({entity:e,onChange:t}){var l,u;const n=e.orientation,i=(n==null?void 0:n.isConstant)&&n.getValue(),o=((l=e.position)==null?void 0:l.isConstant)&&((u=e.position)==null?void 0:u.getValue()),s=o&&i&&fo(o,i),r=w(c=>{if(o){const p=ho(o,c);n?n.isConstant&&n.setValue(p):e.orientation=new pe(p)}},[e,o,n,t]);if(e.model)return a("div",{children:[a("h4",{children:"Orientation"}),a(Me,{targetClass:Ln,size:3,inline:!0,componentNames:["heading","pitch","roll"],value:s,onChange:r})]})}function ho(e,t){return Jt.headingPitchRollQuaternion(e,t)}function fo(e,t){const n=Nn.fromQuaternion(t),i=Hn.fromRotationTranslation(n,e);return Jt.fixedFrameToHeadingPitchRoll(i)}function dt({header:e,id:t,className:n,children:i}){return a("div",{id:t,class:M("section",n),children:[a("h3",{children:a("span",{children:e})}),i]})}function Tt({id:e,className:t,children:n}){return a("div",{id:e,class:M("subsection",t),children:n})}function _o({entity:e,onChange:t}){var m,y;const[n,i]=E(!1),[o,s]=E(e==null?void 0:e.name),r=w(b=>{e&&(e.name=b,t&&t(e),s(b))},[e,t,s]),l=e==null?void 0:e.billboard,u=(y=(m=e==null?void 0:e.label)==null?void 0:m.show)==null?void 0:y.getValue(),c=e==null?void 0:e.model,p=e==null?void 0:e.polyline,d=e==null?void 0:e.polygon,f=d||p,_=[l&&Xi,p&&oo,d&&ji,c&&uo,u&&no].filter(b=>!!b);return e?a(dt,{id:"entity-editor",header:"Selected Entity",children:[a(Tt,{children:[a(le,{label:"Entity name",value:e.name,onChange:r},`${e.id}.name`),a(qi,{entity:e},`${e.id}.position`),f&&a(ro,{entity:e,onChange:t}),a(po,{entity:e,onChange:t}),a(so,{entity:e,onChange:t}),a(zi,{entity:e}),a(Qi,{entity:e,showData:n,setShowData:i})]},e.id+".subsection-common"),a(Tt,{children:[a("h4",{children:"Styling properties"}),a(Li,{entity:e,metadata:_})]},e.id+".subsection-styling")]}):null}function mo({onLoad:e}){const t=V(ee),n=w((s,r)=>{const l=s.entities.values;e(l,s,r)},[e]),i=w((s,r)=>{t&&(t.dataSources.add(s),s.then(l=>n(l,r)))},[t,n]),o=w(s=>{/vnd.google-earth/.test(s.type)||/\.kmz|\.kml/.test(s.name)?i(Bn.load(s),s):/\.czml/.test(s.name)?Mt(s).then(r=>{const l=JSON.parse(r);go(l),i(Fn.load(l),s)}):s.type==="application/geo+json"?Mt(s).then(r=>{i(zn.load(JSON.parse(r)),s)}):console.log("Unknown filetype",s)},[i]);return a(ct,{name:"Load Document",accept:".kml, .kmz, .json, .czml, .czmz, .geojson",onFile:o})}function Mt(e){const t=new FileReader,n=new Promise(i=>{t.onload=function(){i(t.result)}});return t.readAsText(e),n}function go(e){let t=0;e.forEach(n=>{if(n.billboard&&n.billboard.image&&n.billboard.image.reference&&n.billboard.image.reference.split("#")[0]===n.id){console.warn("Self-referencing reference for billboard image",n);const s=new Vn;n.billboard.image=s.fromText(""+ ++t,ie.fromRandom({alpha:1}),32).toDataURL()}})}function Ot(e,t,n){const i=e[n];return i!==void 0&&i instanceof et&&i.isConstant?{...t,[n]:i.valueOf()}:t}function wn(e){const t=$n.WGS84.cartesianToCartographic(e),n=ht.toDegrees(t.longitude),i=ht.toDegrees(t.latitude);return[n,i,t.height]}function vo(e){return e&&e instanceof Zt?{cartographicDegrees:wn(e)}:null}function wo(e){return e&&e instanceof pt?{unitQuaternion:pt.pack(e,[],0)}:null}function h(e,t,n,i){if(e!==void 0&&e.isConstant){const o=e.valueOf();if(i){const s=i(o);s!==void 0&&(t[n]=s)}else t[n]=o}}function Le(e,t,n,i){var o;if(e)if(e instanceof Un){const s=(o=e.color)==null?void 0:o.valueOf();s&&s instanceof ie&&(t[n]={solidColor:{color:W(s)}})}else if(e instanceof Gn){const s={};h(e.image,s,"image",$e(i)),h(e.color,s,"color",W),h(e.repeat,s,"repeat",Ne),h(e.transparent,s,"transparent",W),t[n]={image:s}}else console.log("Unsupported material property",n,e)}function yo(e){var t=0,n,i;for(n=0;n<e.length;n++)i=e.charCodeAt(n),t=(t<<5)-t+i,t|=0;return t}function bo(e,t,n){const i=yo(e),o=t[i];return o?{reference:o}:(t[i]=n,e)}function yn(e,t){const n=t&&t.resourceCache,i=t&&t.id,o=t&&t.separateResources;return s=>{if(s instanceof tt)return`${s.targetId}#${s.targetPropertyNames.join(".")}`;if(s instanceof ae){let r=s.url;return(s.isDataUri||/^data:/.test(r))&&n&&e?o?(n[e]=r,e):bo(r,n,`${i}#${e}`):r}}}var $e=e=>yn(e,void 0);function S(e){return t=>Object.keys(e).find(n=>e[n]===t)}function de(e){return{nearFarScalar:[e.near,e.nearValue,e.far,e.farValue]}}function W(e){return{rgbaf:[e.red,e.green,e.blue,e.alpha]}}function Co(e){return{boundingRectangle:[e.x,e.y,e.width,e.height]}}function me(e){return{distanceDisplayCondition:[e.near,e.far]}}function bn(e){return Cn(e.positions)}function ko(e){if(e.holes)return e.holes.map(bn)}function Ne(e){return{cartesian2:[e.x,e.y]}}function Ke(e){return{cartesian:[e.x,e.y,e.z]}}function Cn(e){return{cartographicDegrees:(e instanceof et?e.getValue():e).map(i=>wn(i)).flat(1)}}function Ao(e){return{wsen:[e.west,e.south,e.east,e.north]}}function Po(e){return console.warn("Node transformations are not supported"),null}function xo(e){return console.warn("Articulations are not supported"),null}function Eo(e){const t={};var n=e.image;return n instanceof tt&&(n=n.resolvedProperty),h(n,t,"image",$e("billboard.image")),h(e.scale,t,"scale"),h(e.pixelOffset,t,"pixelOffset",Ne),h(e.eyeOffset,t,"eyeOffset",Ke),h(e.horizontalOrigin,t,"horizontalOrigin",S(He)),h(e.verticalOrigin,t,"verticalOrigin",S(he)),h(e.heightReference,t,"heightReference",S(z)),h(e.color,t,"color",W),h(e.rotation,t,"rotation"),h(e.alignedAxis,t,"alignedAxis",Ke),h(e.sizeInMeters,t,"sizeInMeters"),h(e.width,t,"width"),h(e.height,t,"height"),h(e.scaleByDistance,t,"scaleByDistance",de),h(e.translucencyByDistance,t,"translucencyByDistance",de),h(e.pixelOffsetScaleByDistance,t,"pixelOffsetScaleByDistance",de),h(e.imageSubRegion,t,"imageSubRegion",Co),h(e.distanceDisplayCondition,t,"distanceDisplayCondition",me),h(e.disableDepthTestDistance,t,"disableDepthTestDistance"),t}function Io(e){const t={};return e.hierarchy instanceof pe?(h(e.hierarchy,t,"positions",bn),h(e.hierarchy,t,"holes",ko)):console.warn("polygon.hierarchy is not ConstantProperty"),h(e.arcType,t,"arcType",S(Kt)),h(e.height,t,"height"),h(e.heightReference,t,"heightReference",S(z)),h(e.extrudedHeight,t,"extrudedHeight"),h(e.extrudedHeightReference,t,"extrudedHeightReference",S(z)),h(e.stRotation,t,"stRotation"),h(e.granularity,t,"granularity"),h(e.fill,t,"fill"),Le(e.material,t,"material","polygon"),h(e.outline,t,"outline"),h(e.outlineColor,t,"outlineColor",W),h(e.outlineWidth,t,"outlineWidth"),h(e.perPositionHeight,t,"perPositionHeight"),h(e.closeTop,t,"closeTop"),h(e.closeBottom,t,"closeBottom"),h(e.shadows,t,"shadows",S(ke)),h(e.distanceDisplayCondition,t,"distanceDisplayCondition",me),h(e.classificationType,t,"classificationType",S(Ce)),h(e.zIndex,t,"zIndex"),t}function Do(e){const t={};return h(e.coordinates,t,"coordinates",Ao),h(e.height,t,"height"),h(e.heightReference,t,"heightReference",S(z)),h(e.extrudedHeight,t,"extrudedHeight"),h(e.extrudedHeightReference,t,"extrudedHeightReference",S(z)),h(e.rotation,t,"rotation"),h(e.stRotation,t,"stRotation"),h(e.granularity,t,"granularity"),h(e.fill,t,"fill"),Le(e.material,t,"material","rectangle"),h(e.outline,t,"outline"),h(e.outlineColor,t,"outlineColor",W),h(e.outlineWidth,t,"outlineWidth"),h(e.shadows,t,"shadows",S(ke)),h(e.distanceDisplayCondition,t,"distanceDisplayCondition",me),h(e.classificationType,t,"classificationType",S(Ce)),h(e.zIndex,t,"zIndex"),t}function So(e){const t={};return h(e.positions,t,"positions",Cn),h(e.arcType,t,"arcType",S(Kt)),h(e.width,t,"width"),h(e.granularity,t,"granularity"),Le(e.material,t,"material","polyline"),h(e.shadows,t,"shadows",S(ke)),Le(e.depthFailMaterial,t,"depthFailMaterial","polyline"),h(e.distanceDisplayCondition,t,"distanceDisplayCondition",me),h(e.clampToGround,t,"clampToGround"),h(e.classificationType,t,"classificationType",S(Ce)),h(e.zIndex,t,"zIndex"),t}function To(e){const t={};return h(e.uri,t,"gltf",$e("model.gltf")),h(e.scale,t,"scale"),h(e.minimumPixelSize,t,"minimumPixelSize"),h(e.maximumScale,t,"maximumScale"),h(e.incrementallyLoadTextures,t,"incrementallyLoadTextures"),h(e.runAnimations,t,"runAnimations"),h(e.shadows,t,"shadows",S(ke)),h(e.heightReference,t,"heightReference",S(z)),h(e.silhouetteColor,t,"silhouetteColor",W),h(e.silhouetteSize,t,"silhouetteSize"),h(e.color,t,"color",W),h(e.colorBlendMode,t,"colorBlendMode",S(Yt)),h(e.colorBlendAmount,t,"colorBlendAmount"),h(e.distanceDisplayCondition,t,"distanceDisplayCondition",me),h(e.nodeTransformations,t,"nodeTransformations",Po),h(e.articulations,t,"articulations",xo),t}function Mo(e){const t={};return h(e.uri,t,"uri"),h(e.maximumScreenSpaceError,t,"maximumScreenSpaceError"),t}function Oo(e){const t={};return h(e.text,t,"text"),h(e.font,t,"font"),h(e.style,t,"style",S(Qt)),h(e.scale,t,"scale"),h(e.showBackground,t,"showBackground"),h(e.backgroundColor,t,"backgroundColor",W),h(e.backgroundPadding,t,"backgroundPadding",Ne),h(e.pixelOffset,t,"pixelOffset",Ne),h(e.eyeOffset,t,"eyeOffset",Ke),h(e.horizontalOrigin,t,"horizontalOrigin",S(He)),h(e.verticalOrigin,t,"verticalOrigin",S(he)),h(e.heightReference,t,"heightReference",S(z)),h(e.fillColor,t,"fillColor",W),h(e.outlineColor,t,"outlineColor",W),h(e.outlineWidth,t,"outlineWidth"),h(e.translucencyByDistance,t,"translucencyByDistance",de),h(e.pixelOffsetScaleByDistance,t,"pixelOffsetScaleByDistance",de),h(e.scaleByDistance,t,"scaleByDistance",de),h(e.distanceDisplayCondition,t,"distanceDisplayCondition",me),h(e.disableDepthTestDistance,t,"disableDepthTestDistance"),t}class Ro{constructor(t){x(this,"separateResources");x(this,"resourceCache",{});x(this,"counter",0);x(this,"document",{id:"document",version:"1.0"});x(this,"packets",[]);this.separateResources=(t==null?void 0:t.separateResources)||!0}addEntity(t){const n=t.id||`object${this.counter++}`;var i={id:n};if(i=Ot(t,i,"name"),i=Ot(t,i,"description"),t.parent&&(i={...i,parent:t.parent.id}),t.position){const s=t.position;s.isConstant?i={...i,position:vo(s.getValue())}:console.warn("Not Supported")}if(t.orientation){const s=t.orientation;s.isConstant?i={...i,orientation:wo(s.getValue())}:console.warn("Not Supported")}const o={id:n,resourceCache:this.resourceCache,separateResources:this.separateResources};$e=s=>yn(s,o),t.billboard&&(i.billboard=Eo(t.billboard)),t.polyline&&(i.polyline=So(t.polyline)),t.polygon&&(i.polygon=Io(t.polygon)),t.rectangle&&(i.rectangle=Do(t.rectangle)),t.model&&(i.model=To(t.model)),t.tileset&&(i.tileset=Mo(t.tileset)),t.label&&(i.label=Oo(t.label)),t.parent&&(i={...i,parent:t.parent.id}),this.packets.push(i)}toJSON(){return[this.document,...this.packets]}async listResources(){const t=[];for(let n of Object.keys(this.resourceCache)){const i=await fetch(this.resourceCache[n]).then(o=>o.blob());t.push({name:n,lastModified:new Date,input:i})}return t}}function Lo({entities:e}){const t=w(()=>{const i=new jn("export");e.forEach(o=>i.entities.add(o)),Wn({entities:i.entities}).then(o=>{const r="data:application/vnd.google-earth.kml+xml;charset=utf-8,"+encodeURIComponent(o.kml);Rt(r,"document.kml")})},[e]),n=w(()=>{const i=new Ro({separateResources:!1});e.forEach(s=>i.addEntity(s));const o="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(i.toJSON()));Rt(o,"document.czml")},[e]);return a("div",{class:"export",children:[a("button",{onClick:t,children:"Download as KML"}),a("button",{onClick:n,children:"Download as CZML"})]})}function Rt(e,t){const n=document.createElement("A");n.href=e,n.download=t,n.click(),n.remove()}function No({entities:e,onLoad:t}){return a(dt,{header:"Import / Export",className:"upload-section",children:[a(mo,{onLoad:t}),a(Lo,{entities:e})]})}function Lt({type:e,active:t,onEntityCreated:n,disabled:i,setActiveType:o}){const s=V(ee),r=V(ge).geometryEditor,[l,u]=E(!1),c=w(()=>{if(r){const f=r.save();f&&n(f),u(!1),o&&o(void 0)}},[r,u,n]),p=w(()=>{if(s&&r){const f=r.newEntity(e);f&&s.entities.add(f),u(!0),o&&o(e)}},[e,u,o,s,r]),d=w(()=>{if(s&&r){const f=r.cancel();f&&s.entities.remove(f)}u(!1),o&&o(void 0)},[u,o,s,r]);return a("div",{class:`create-${e}`,children:[t&&a("div",{children:["Click in a 3d map view to add points to ",e," geometry.",e==="polygon"&&a("div",{children:" You need at least 3 points for polygon."}),e==="polyline"&&a("div",{children:" You need at least 2 points for polyline."})]}),!l&&a("button",{disabled:i===!0,onClick:p,children:["Add ",e==="polygon"?"Polygon":"Polyline"]}),l&&a("button",{onClick:c,children:"Save"}),l&&a("button",{onClick:d,children:"Cancel"})]})}var ue=(e=>(e[e.billboard=0]="billboard",e[e.model=1]="model",e[e.label=2]="label",e[e.point=3]="point",e))(ue||{});class Ho{constructor(t){x(this,"viewer");x(this,"screenSpaceEventHandler");x(this,"inputMode",null);x(this,"billboardProperties",{image:"http://maps.google.com/mapfiles/kml/shapes/placemark_circle.png",verticalOrigin:he.BOTTOM,heightReference:z.RELATIVE_TO_GROUND,width:32,height:32,disableDepthTestDistance:1e9});x(this,"labelProperties",{text:"Label Text",verticalOrigin:he.BOTTOM,heightReference:z.RELATIVE_TO_GROUND,disableDepthTestDistance:1e9});x(this,"modelProperties",{heightReference:z.RELATIVE_TO_GROUND});x(this,"modelUri",null);x(this,"newEntityEvent",new Zn);this.viewer=t,this.screenSpaceEventHandler=new Wt(t.scene.canvas)}handleClick(t){if(this.inputMode===0){this.inputMode=null;const n=se(this.viewer,t.position);if(n){const i=this.createBillboard(n);this.handleNewEntity(i)}}else if(this.inputMode===1){this.inputMode=null;const n=se(this.viewer,t.position);if(n&&this.modelUri){const i=this.createModel(n);this.handleNewEntity(i)}this.modelUri=null}else if(this.inputMode===2){this.inputMode=null;const n=se(this.viewer,t.position);if(n){const i=this.createLabel(n);this.handleNewEntity(i)}}}createBillboard(t){return new ve({position:t,billboard:{...this.billboardProperties}})}createLabel(t){return new ve({position:t,label:{...this.labelProperties}})}createModel(t){const n=this.modelUri;return new ve({position:t,model:{uri:n,...this.modelProperties}})}handleNewEntity(t){this.newEntityEvent.raiseEvent(t)}subscribeToEvents(){this.screenSpaceEventHandler.setInputAction(this.handleClick.bind(this),we.LEFT_CLICK)}unSubscribeToEvents(){this.screenSpaceEventHandler.removeInputAction(we.LEFT_CLICK)}}function Bo({active:e,disabled:t,setActiveType:n}){const i=w(()=>{n(ue.billboard)},[n]),o=w(()=>{n(void 0)},[n]);return a("div",{className:"create-billboard",children:[e&&a("div",{children:"Click in a map view to create billboard"}),!e&&a("button",{disabled:t,onClick:i,children:"Add Billboard"}),e&&a("button",{onClick:o,children:"Cancel"})]})}function Fo({active:e,disabled:t,setActiveType:n}){const i=V(ge).clickCreateController,o=w(r=>{i&&(n(ue.model),i.modelUri=URL.createObjectURL(r))},[i,n]),s=w(()=>{n(void 0)},[n]);return a("div",{className:"create-model",children:[!e&&a(ct,{disabled:t,name:"Add model",onFile:o,accept:".gltf, .glb"}),e&&a("div",{children:"Click in a map view to set model position"}),e&&a("button",{onClick:s,children:"Cancel"})]})}function zo({onEntityCreated:e}){const[t,n]=E(),i=V(ge).clickCreateController,o=V(ee),s=q(m=>{}),r=w(m=>{if(n(m),!!i&&(m===void 0||Object.values(ue).includes(m))){const y=m===void 0?null:m;i.inputMode=y,i.subscribeToEvents()}},[i,n]);s.current=w(m=>{n(void 0),i&&(i.inputMode=null,i.unSubscribeToEvents()),o&&o.entities.add(m),e(m)},[i,o,n,e]),K(()=>{if(i){const m=s.current;return i.newEntityEvent.addEventListener(m),()=>{i.newEntityEvent.removeEventListener(m)}}},[i,s]);const l=t===ue.billboard,u=t==="polygon",c=t==="polyline",p=t===void 0;return a(dt,{id:"create-entity",className:"create-section",header:"Create entities",children:[a(Bo,{active:l,disabled:!p&&!l,setActiveType:r}),a(Lt,{type:"polyline",active:c,disabled:!p&&!c,setActiveType:r,onEntityCreated:e}),a(Lt,{type:"polygon",active:u,disabled:!p&&!u,setActiveType:r,onEntityCreated:e}),a(Fo,{active:t===ue.model,disabled:!p,setActiveType:r})]})}const Vo=new URLSearchParams(window.location.search);P.GoogleMaps.defaultApiKey=Vo.get("google_key")||"AIzaSyCgjboUOBS_g9VjVZnTaRTg9dvfHDiZJ4k";function $o(e){P.createGooglePhotorealistic3DTileset().then(t=>{e.scene.primitives.add(t),e.scene.globe.show=!1}).catch(t=>{console.log(`Failed to load tileset: ${t}`)})}function Uo(e){e.scene.primitives._primitives.filter(t=>t._basePath&&t._basePath.startsWith("https://tile.googleapis.com/")).forEach(t=>{e.scene.primitives.remove(t)}),e.scene.globe.show=!0}function Go(){const[e,t]=E(!1),n=V(ee),i=w(()=>{const o=!e;t(o),n&&(o?$o(n):Uo(n))},[n,e,t]);return a(Ve,{label:"Use google 3d",checked:e,onChange:i})}const jo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAC4jAAAuIwF4pT92AAAF90lEQVR4Xu2bS4/jRBSFb/N+jEDADAjEIgKJYcWS/79mOStAAmUxAgHdIJB4gxp/qTrJrfJ1bCf2tJ3hSDV2exK7zrmPKtetmD3luKovzI3b29v79bUaV1dX1/W1uTCrAI7sW+5yrwANvAA3/DOXKJMLUJHWuY6vNe3NfH4MPzbtl3wu4hwnF2MyATJxWZpzmgi/n6+/2rTX8zl42Z3/7s5/btqv+fyxHQSBuMjfTCHEc/WFsQgsTttYIi3CEEWMl/I18EI+evyVj5D/wxLp9+wgCGJsLYvQPHv34XOEOEsAZ/WaOJ1+xw6EIcuR571iyfOetTb+bRqsfmvaP5ZII4oE4b7c3wtxjRCninByCDQPfWjdxBEF0lgf4pB90dLznrd+/G1JiD8tiYIAeAFikAe+a9o3VgnRiPAFXx6D0R5QWf2Dpn1iJfE3LN1XLj+EcA19R2GCiNyPkOD+PIfnySMe8aEcEqNywygBHPmP7WD1D5v2tqWOYfFziHeBe9G4L6FAvxGHv5VISbbbpn0+JiQGCxCQJwQ+ytce2DzEa3gheJ5CjHMlVzBYhEECBOQ/teSC71rqBAJEWX0uSAjyCtCz/RA7SIReAXrIE4MoP6fVjwHihJ+3Pv0TekXoFcCWS17g+fSD/giFCFZOrQscFcANdRtLMe/J37Oe7z9BIAL98SLQX6B5QjhEdhLIrq+hjmxPwvOW7/zuHYH+1J7A/IFpNHzC4TEkUY31jPMMdfytrHvXbt8FhQP9ZNJEv8HuPSLKB6EAGXJ9FCXRkOlpSyUv0D/6CfAAXrI25t4mPZ6pL1TWx/WJeyY5jLVPcqg7B/ST/tJv+g+PHa/Mb4/IA0R+Y8n6cn0mH2sC/VUowGNj5drCDoUHOHUi6y/d9WvQ38gLPM92CFjb+njJ2qwv0G/6Dw95QRECtQB17CuW1mZ9QV4AjyIX6AN7Ady4rxcLxdBarS94Hnpxuq8wqD0A8Fqp8X7JY/5QaG6g+UGxKOsF8O7POzZuEy1brRHwgA+8ijCIPAAoDPS6uXbAQ+5foBbAxz/Z8+Q1w4UBHhrNCiF2EyGXAH38s3q79vgX4AEfnwdIhDe1B3hcivWFkE+XAJeUAAUlwgKRAL5cdYko+EUCPFX4X4D6gpVV2ktEwS8SAPAOTU3ukgAfeBXoEgCk2vPlIOSzEyAvFNJYQVUtnhI1VdpLADzgoyozPKkmX9cewOqpavHU50PVVgh4wAde8NP2m84QkBDU5y8B8CiIC14AlowJg8eWMuUlJUIlQHjBb79EHnmAzwO0tecB+i8uiv899gK4ROjzAF/guGZ4HgqDXQLkP2sP8GHAPhzchi+s1QvoN/2HB3wK9we1AIAPbC1tQuKDyp5rhEYzeMBna1WpvBDAFQ69F/xk6/QCWZ/+e+sXBdKoNCb32Nq66wOK/dr6RYG0JQDqUEa2gxdQUdHaOouLrUWFBUK5q7Z+a49ASwAH5QItk7OeBiiVL9kTcP0fcvveOmJfCAWovOBRvqwS05ILJhrz5fpfWep/aH0QCgCyCKqhsYoqDwCExT078v07ANke8lj826Z9acn1vzY37tc4SoCNRdkTtvmS34eHCEvxBFle5Il7NkVtLZEPN0iBowJk4EpsNRP8FrQliBCR/8zytlkLtsV49Arg8kGXCHjFA7ub0YFsT7Ij5kPyXa4v9AoAOkR4mI9aZiJJzr1XWMDqjPMMdQiAlYl5uf0g8mCQAKBDBFyPrWgc59wtLnjiWJ1xnqGObE/C29oI8mCwAKASgQfo1ZL3bDqGN5CNue+UQnji3B/i/ocTDHW7bM/1oeTBKAFAvrmEAHRqY+1fjGAhFVoX+4uRsGA4FLmqrI0V2lzlhVA5WhMoBD/nN0MhcRtpdY+zBABuy1kkhMrRTKUVEppQRaOGEqoI412El1aoWsT58KnkwdkCCM4bgN9wxSwSMYAEEXyh0ldsRBhAmlyzW8nJDZxsdY/JBBACjwA6SpA+iDAQyUksXmNyATwqMQRdOwZPcHLSHrMKEMGJ0om5yEb4D1gsLPtR6hv3AAAAAElFTkSuQmCC",ne=P.Color.AQUAMARINE,Nt={image:jo,width:32,height:32,scale:.4,heightReference:P.HeightReference.CLAMP_TO_GROUND,disableDepthTestDistance:1e6,color:ne},N=class N{constructor(t){x(this,"viewer");x(this,"entity",null);x(this,"_oldGeometry");x(this,"createMode");x(this,"_activeControlPoint",null);x(this,"_controlPoints",[]);x(this,"_middlePoints",[]);x(this,"_type",null);x(this,"_entityGeometryProperty",null);x(this,"entityOptions");x(this,"screenSpaceEventHandler",null);x(this,"_mouseDownPosition",null);x(this,"_mouseDownEntityPosition",null);this.viewer=t,this.createMode=!1,N.controlPointsDisplay||(N.controlPointsDisplay=new P.CustomDataSource("geometry-control-points"),t.dataSources.add(N.controlPointsDisplay)),this._createScreenSpaceEventHandler()}newEntity(t){this._type=t,this._setTypeOptions(),this.createMode=!0;const n=new P.CallbackProperty(this._geometryCallback.bind(this),!1);return this._entityGeometryProperty&&(this.entity=new P.Entity({[this._type]:{[this._entityGeometryProperty]:n,...this.entityOptions}})),this.entity}editEntity(t,n){return this._type=t,this._setTypeOptions(),this.createMode=!1,this.entity=n,this._oldGeometry=this._getGeometryPropertyValue(),this._geometryAsControlPoints(),this.entity[this._type][this._entityGeometryProperty]=new P.CallbackProperty(this._geometryCallback.bind(this),!1),this.entity}_getGeometryPropertyValue(){var t,n;if(this.entity){if(this._type==="polyline"){const i=this.entity[this._type];return i&&((t=i.positions)==null?void 0:t.getValue())}else if(this._type==="polygon"){const i=this.entity[this._type];return i&&((n=i.hierarchy)==null?void 0:n.getValue())}}}_geometryAsControlPoints(){this._type==="polyline"?this._getGeometryPropertyValue().forEach(n=>{this._addControlPoint(n)}):this._type==="polygon"&&this._getGeometryPropertyValue().positions.forEach(n=>{this._addControlPoint(n)}),this._createMiddlePoints()}_geometryCallback(){const t=this._controlPoints.map(n=>{var i;return(i=n.position)==null?void 0:i.getValue()});if(this._type==="polyline")return t;if(this._type==="polygon")return new P.PolygonHierarchy(t)}_createMiddlePoints(){this._middlePoints.forEach(n=>{N.controlPointsDisplay.entities.remove(n)});let t=null;this._controlPoints.forEach(n=>{t&&this._addMiddlePoint(t,n),t=n}),this._type==="polygon"&&t&&this._addMiddlePoint(t,this._controlPoints[0])}save(){const t=this.entity;return this.entity[this._type][this._entityGeometryProperty]=new P.ConstantProperty(this._geometryCallback()),this.reset(),t}cancel(){const t=this.entity;return this._oldGeometry&&(this.entity[this._type][this._entityGeometryProperty]=this._oldGeometry),this.reset(),t}disableDefaultControls(){this.viewer&&(this.viewer.scene.screenSpaceCameraController.enableInputs=!1)}enableDefaultControls(){this.viewer&&(this.viewer.scene.screenSpaceCameraController.enableInputs=!0)}reset(){this.entity=null,this._type=null,this._oldGeometry=null,this._activeControlPoint=null,this._entityGeometryProperty=null,N.controlPointsDisplay.entities.removeAll(),this._controlPoints=[],this._middlePoints=[]}destroy(){this.screenSpaceEventHandler&&this.screenSpaceEventHandler.destroy()}_setTypeOptions(){this._type==="polyline"?(this._entityGeometryProperty="positions",this.entityOptions={clampToGround:!0,width:3,material:ne}):this._type==="polygon"&&(this._entityGeometryProperty="hierarchy",this.entityOptions={height:0,material:new P.ColorMaterialProperty(ne.withAlpha(.3)),outline:!0,outlineColor:ne,outlineWidth:2})}_addMiddlePoint(t,n,i){const o=this._getEntityColor(),s=new P.Entity({position:new P.CallbackPositionProperty(()=>{var p,d;const l=(p=t.position)==null?void 0:p.getValue(),u=(d=n.position)==null?void 0:d.getValue();return P.Cartesian3.midpoint(l,u,new P.Cartesian3)},!1),billboard:{...Nt,scale:.3,color:o}}),r=i===void 0?this._middlePoints.length:i;this._middlePoints.splice(r,0,s),N.controlPointsDisplay.entities.add(s)}_addControlPoint(t,n){const i=this._getEntityColor(),o=new P.Entity({position:t,billboard:{...Nt,color:i}}),s=n===void 0?this._controlPoints.length:n;return this._controlPoints.splice(s,0,o),N.controlPointsDisplay.entities.add(o),o}_removeCP(t){const n=this._controlPoints.indexOf(t);if(n<0)return;let i=this._middlePoints[n-1],o=this._middlePoints[n];if(this._type==="polygon"&&n-1<0&&(i=this._middlePoints[this._middlePoints.length-1]),i&&(this._middlePoints=this._middlePoints.filter(s=>s!==i),N.controlPointsDisplay.entities.remove(i)),o&&(this._middlePoints=this._middlePoints.filter(s=>s!==o),N.controlPointsDisplay.entities.remove(o)),i&&o){const s=this._controlPoints[n-1]||this._controlPoints[this._controlPoints.length-1],r=this._controlPoints[n+1]||this._controlPoints[0];n-1<0?this._addMiddlePoint(s,r):this._addMiddlePoint(s,r,n-1)}N.controlPointsDisplay.entities.remove(t),this._controlPoints.splice(n,1)}_getEntityColor(){var t,n,i,o,s,r,l,u,c;if(!this.entity)return ne;if(this._type==="polygon"){const p=(i=(n=(t=this.entity)==null?void 0:t.polygon)==null?void 0:n.material)==null?void 0:i.getValue();return((r=(s=(o=this.entity)==null?void 0:o.polygon)==null?void 0:s.outlineColor)==null?void 0:r.getValue())||p||ne}else if(this._type==="polyline")return((c=(u=(l=this.entity)==null?void 0:l.polyline)==null?void 0:u.material)==null?void 0:c.getValue().color)||ne;return ne}_mouseClick(t){var o;let n=(o=this.viewer)==null?void 0:o.scene.pick(t.position);const i=this.viewer&&se(this.viewer,t.position);if(this.entity){if(n){const s=this._controlPoints.includes(n.id),r=this._middlePoints.includes(n.id);if(s&&this._controlPoints.length>(this._type==="polygon"?3:2)&&confirm("Delete point?")&&this._removeCP(n.id),s||r)return}if(i&&this.createMode){const s=this._controlPoints[this._controlPoints.length-1],r=this._addControlPoint(i);if(s&&r){if(this._type==="polygon"){const l=this._middlePoints[this._middlePoints.length-1];N.controlPointsDisplay.entities.remove(l),this._middlePoints.splice(this._middlePoints.length-1,1)}this._addMiddlePoint(s,r),this._type==="polygon"&&this._addMiddlePoint(r,this._controlPoints[0])}}return}}_mouseMove(t){if(this._mouseDownPosition&&this._activeControlPoint){const n=this.viewer&&se(this.viewer,t.endPosition);if(!n)return;let i=P.Cartographic.fromCartesian(n),o=i.latitude-this._mouseDownPosition.latitude,s=i.longitude-this._mouseDownPosition.longitude,r=new P.Cartographic(this._mouseDownEntityPosition.longitude+s,this._mouseDownEntityPosition.latitude+o,this._mouseDownEntityPosition.height);const l=P.Cartographic.toCartesian(r);this._activeControlPoint.position=new P.ConstantPositionProperty(l)}}_mouseDown(t){var l;const n=(l=this.viewer)==null?void 0:l.scene.pick(t.position);if(!n)return;const i=n.id,o=this._controlPoints.includes(i),s=this._middlePoints.findIndex(u=>u.id===(i==null?void 0:i.id)),r=s>=0;if(o||r){const u=this.viewer&&se(this.viewer,t.position);if(!u)return;if(this._mouseDownPosition=P.Cartographic.fromCartesian(u),this._mouseDownEntityPosition=P.Cartographic.fromCartesian(i.position.getValue()),console.log(`Down on ${o?"CP":""}${r?"MP":""}`,i),this.disableDefaultControls(),this._activeControlPoint=i,r){const c=s%this._controlPoints.length,p=(s+1)%this._controlPoints.length;console.log("middlePointIndex",s,c,p);const d=this._controlPoints[c],f=this._controlPoints[p];this._activeControlPoint=this._addControlPoint(i.position.getValue(),s+1),this._middlePoints.splice(s,1),this._addMiddlePoint(d,this._activeControlPoint,s),this._addMiddlePoint(f,this._activeControlPoint,s+1),N.controlPointsDisplay.entities.remove(i)}}}_mouseUp(){this._mouseDownPosition=null,this._mouseDownEntityPosition=null,this.enableDefaultControls()}_createScreenSpaceEventHandler(){this.viewer&&(this.screenSpaceEventHandler=new P.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.screenSpaceEventHandler.setInputAction(this._mouseDown.bind(this),P.ScreenSpaceEventType.LEFT_DOWN),this.screenSpaceEventHandler.setInputAction(this._mouseMove.bind(this),P.ScreenSpaceEventType.MOUSE_MOVE),this.screenSpaceEventHandler.setInputAction(this._mouseUp.bind(this),P.ScreenSpaceEventType.LEFT_UP),this.screenSpaceEventHandler.setInputAction(this._mouseClick.bind(this),P.ScreenSpaceEventType.LEFT_CLICK))}__labels(){this._controlPoints.forEach((t,n)=>{t.label=new P.LabelGraphics({text:"cp"+n,eyeOffset:new P.Cartesian3(0,0,-25),verticalOrigin:P.VerticalOrigin.BOTTOM})}),this._middlePoints.forEach((t,n)=>{t.label=new P.LabelGraphics({text:"mp"+n,eyeOffset:new P.Cartesian3(0,0,-25),verticalOrigin:P.VerticalOrigin.BOTTOM})})}};x(N,"controlPointsDisplay");let qe=N;const kn={uploads:[],defaultIcons:[],datasourceIcons:[]};function Wo(e){const t=new Map;for(var n of e)if(n.billboard){const i=n.billboard.image;if(i!=null&&i.isConstant&&!(i instanceof tt)){const o=i.getValue(),s=Zo(o);if(s){const r=t.get(s.url)||[];t.set(s.url,[...r,n.id])}}}return t}function Zo(e){if(e instanceof ae)return e;if(typeof e=="string"||e instanceof String)return new ae(e);if(e instanceof HTMLCanvasElement)return new ae(e.toDataURL());console.warn("Unknow type of imgage property value, value is",e)}const ge=rt({}),An=rt({resources:kn,setResources:e=>{}});function Xo(){const e=V(ee),t=at(()=>({geometryEditor:e?new qe(e):void 0,clickCreateController:e?new Ho(e):void 0,positionDragController:e?new Ji(e):void 0}),[e]),[n,i]=E([]),[o,s]=E(null),[r,l]=E(kn),u=w(d=>{const f=[...n,...d],_=Array.from(Wo(f).keys());i(f),l({...r,datasourceIcons:_})},[n,i,r,l]),c=w(d=>{s(d),console.log("select entity",d)},[s]),p=w(d=>{console.log("Entity created",d),i([...n,d]),s(d)},[n,i,s]);return a("div",{id:"editor",class:"section entity-editor",children:a(ge,{value:t,children:[a(No,{entities:n,onLoad:u}),a(Go,{}),a(An,{value:{resources:r,setResources:l},children:[a(zo,{onEntityCreated:p}),a(gi,{entities:n,entity:o,selectEntity:c}),a(_o,{entity:o,onChange:c})]})]})})}function Qo(e,t){for(var n in t)e[n]=t[n];return e}function Ht(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function Bt(e,t){this.props=e,this.context=t}(Bt.prototype=new J).isPureReactComponent=!0,Bt.prototype.shouldComponentUpdate=function(e,t){return Ht(this.props,e)||Ht(this.state,t)};var Ft=C.__b;C.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Ft&&Ft(e)};var Yo=C.__e;C.__e=function(e,t,n,i){if(e.then){for(var o,s=t;s=s.__;)if((o=s.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}Yo(e,t,n,i)};var zt=C.unmount;function Pn(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=Qo({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return Pn(i,t,n)})),e}function xn(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return xn(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function je(){this.__u=0,this.o=null,this.__b=null}function En(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function De(){this.i=null,this.l=null}C.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),zt&&zt(e)},(je.prototype=new J).__c=function(e,t){var n=t.__c,i=this;i.o==null&&(i.o=[]),i.o.push(n);var o=En(i.__v),s=!1,r=function(){s||(s=!0,n.__R=null,o?o(l):l())};n.__R=r;var l=function(){if(!--i.__u){if(i.state.__a){var u=i.state.__a;i.__v.__k[0]=xn(u,u.__c.__P,u.__c.__O)}var c;for(i.setState({__a:i.__b=null});c=i.o.pop();)c.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(r,r)},je.prototype.componentWillUnmount=function(){this.o=[]},je.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Pn(this.__b,n,i.__O=i.__P)}this.__b=null}var o=t.__a&&Xe(Q,null,e.fallback);return o&&(o.__u&=-33),[Xe(Q,null,t.__a?null:e.children),o]};var Vt=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(De.prototype=new J).__a=function(e){var t=this,n=En(t.__v),i=t.l.get(e);return i[0]++,function(o){var s=function(){t.props.revealOrder?(i.push(o),Vt(t,e,i)):o()};n?n(s):s()}},De.prototype.render=function(e){this.i=null,this.l=new Map;var t=Re(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},De.prototype.componentDidUpdate=De.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Vt(e,n,t)})};var Jo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ko=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,qo=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,es=/[A-Z0-9]/g,ts=typeof document<"u",ns=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};J.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(J.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var $t=C.event;function is(){}function os(){return this.cancelBubble}function ss(){return this.defaultPrevented}C.event=function(e){return $t&&(e=$t(e)),e.persist=is,e.isPropagationStopped=os,e.isDefaultPrevented=ss,e.nativeEvent=e};var rs={enumerable:!1,configurable:!0,get:function(){return this.class}},Ut=C.vnode;C.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,i=t.type,o={},s=i.indexOf("-")===-1;for(var r in n){var l=n[r];if(!(r==="value"&&"defaultValue"in n&&l==null||ts&&r==="children"&&i==="noscript"||r==="class"||r==="className")){var u=r.toLowerCase();r==="defaultValue"&&"value"in n&&n.value==null?r="value":r==="download"&&l===!0?l="":u==="translate"&&l==="no"?l=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?r="ondblclick":u!=="onchange"||i!=="input"&&i!=="textarea"||ns(n.type)?u==="onfocus"?r="onfocusin":u==="onblur"?r="onfocusout":qo.test(r)&&(r=u):u=r="oninput":s&&Ko.test(r)?r=r.replace(es,"-$&").toLowerCase():l===null&&(l=void 0),u==="oninput"&&o[r=u]&&(r="oninputCapture"),o[r]=l}}i=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=Re(n.children).forEach(function(c){c.props.selected=o.value.indexOf(c.props.value)!=-1})),i=="select"&&o.defaultValue!=null&&(o.value=Re(n.children).forEach(function(c){c.props.selected=o.multiple?o.defaultValue.indexOf(c.props.value)!=-1:o.defaultValue==c.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",rs)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=Jo,Ut&&Ut(e)};var Gt=C.__r;C.__r=function(e){Gt&&Gt(e),e.__c};var jt=C.diffed;C.diffed=function(e){jt&&jt(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};function as({sidebar:e,mainArea:t}){const[n,i]=E(window.innerWidth*.25);function o(s){const r=s.clientX,l=n;function u(p){const d=l+p.clientX-r;i(d)}function c(){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",c)}window.addEventListener("mousemove",u),window.addEventListener("mouseup",c)}return a("div",{id:"main-layout",class:"resizable-horizontal-layout",children:[a("div",{id:"sidebar",class:"left-side-area",style:{width:`${n}px`},children:e}),a("div",{class:"resize-bar",onMouseDown:o}),a("div",{id:"main-area",class:"right-side-area",children:t})]})}const ee=rt(null);function ls(){const[e,t]=E(null);return K(()=>{e==null&&t(new Xn("cesiumContainer",{animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!0,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,scene3DOnly:!0,shouldAnimate:!0}))},[e,t]),a(as,{sidebar:a(ee,{value:e,children:a(Xo,{})}),mainArea:a("div",{id:"cesiumContainer"})})}ei(a(ls,{}),document.getElementById("app"));
